var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertyNames,a=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,l=(e,t)=>{if(t=Symbol[e])return t;throw Error("Symbol."+e+" is not defined")},o=(t,r,n)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,c=(e,t)=>{for(var r in t||(t={}))i.call(t,r)&&o(e,r,t[r]);if(a)for(var r of a(t))s.call(t,r)&&o(e,r,t[r]);return e},d=(e,n)=>t(e,r(n)),u=(e,t,r)=>new Promise((n,a)=>{var i=e=>{try{l(r.next(e))}catch(t){a(t)}},s=e=>{try{l(r.throw(e))}catch(t){a(t)}},l=e=>e.done?n(e.value):Promise.resolve(e.value).then(i,s);l((r=r.apply(e,t)).next())}),m=function(e,t){this[0]=e,this[1]=t},h=(e,t,r)=>{var n=(e,t,a,i)=>{try{var s=r[e](t),l=(t=s.value)instanceof m,o=s.done;Promise.resolve(l?t[0]:t).then(r=>l?n("return"===e?e:"next",t[1]?{done:r.done,value:r.value}:r,a,i):a({value:r,done:o})).catch(e=>n("throw",e,a,i))}catch(c){i(c)}},a=e=>i[e]=t=>new Promise((r,a)=>n(e,t,r,a)),i={};return r=r.apply(e,t),i[Symbol.asyncIterator]=()=>i,a("next"),a("throw"),a("return"),i},p=e=>{var t,r=e[l("asyncIterator")],n=!1,a={};return null==r?(r=e[l("iterator")](),t=e=>a[e]=t=>r[e](t)):(r=r.call(e),t=e=>a[e]=t=>{if(n){if(n=!1,"throw"===e)throw t;return t}return n=!0,{done:!1,value:new m(new Promise(n=>{var a=r[e](t);if(!(a instanceof Object))throw TypeError("Object expected");n(a)}),1)}}),a[l("iterator")]=()=>a,t("next"),"throw"in r?t("throw"):a.throw=e=>{throw e},"return"in r&&t("return"),a};import{r as f,b as g,a as y,g as x}from"./vendor-340b36b2.js";import{u as b,N as v,a as N,L as w,b as S,O as C,B as E,R as k,c as O}from"./router-3519d2fb.js";import{G as j}from"./icons-9c930082.js";var R,T,A=(R={"assets/index-d37a2140.js"(e){!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var t={exports:{}},r={},n=f,a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,R={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var n,i={},l=null,c=null;for(n in void 0!==r&&(l=""+r),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,n)&&!R.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:a,type:e,key:l,ref:c,props:i,_owner:o.current}}r.Fragment=i,r.jsx=T,r.jsxs=T,t.exports=r;var A=t.exports;const P=A.Fragment,z=A.jsx,B=A.jsxs;var L={},_=g;L.createRoot=_.createRoot,L.hydrateRoot=_.hydrateRoot;class M extends y.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t})}render(){return this.state.hasError?z("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:B("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8 text-center",children:[z("div",{className:"text-6xl mb-4",children:"😔"}),z("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"抱歉，出现了一些问题"}),z("p",{className:"text-gray-600 mb-6",children:"我们正在努力修复这个问题。请稍后再试或刷新页面。"}),B("div",{className:"space-y-3",children:[z("button",{onClick:()=>window.location.reload(),className:"w-full bg-primary-600 text-white py-2 px-4 rounded-lg hover:bg-primary-700 transition-colors",children:"刷新页面"}),z("button",{onClick:()=>window.location.href="/",className:"w-full bg-gray-200 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:"返回首页"})]}),!1]})}):this.props.children}}function I(e,t){return function(){return e.apply(t,arguments)}}const{toString:D}=Object.prototype,{getPrototypeOf:U}=Object,{iterator:F,toStringTag:q}=Symbol,H=($=Object.create(null),e=>{const t=D.call(e);return $[t]||($[t]=t.slice(8,-1).toLowerCase())});var $;const V=e=>(e=e.toLowerCase(),t=>H(t)===e),J=e=>t=>typeof t===e,{isArray:W}=Array,K=J("undefined");function G(e){return null!==e&&!K(e)&&null!==e.constructor&&!K(e.constructor)&&Q(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Y=V("ArrayBuffer"),X=J("string"),Q=J("function"),Z=J("number"),ee=e=>null!==e&&"object"==typeof e,te=e=>{if("object"!==H(e))return!1;const t=U(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||q in e||F in e)},re=V("Date"),ne=V("File"),ae=V("Blob"),ie=V("FileList"),se=V("URLSearchParams"),[le,oe,ce,de]=["ReadableStream","Request","Response","Headers"].map(V);function ue(e,t,{allOwnKeys:r=!1}={}){if(null==e)return;let n,a;if("object"!=typeof e&&(e=[e]),W(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(G(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),i=a.length;let s;for(n=0;n<i;n++)s=a[n],t.call(null,e[s],s,e)}}function me(e,t){if(G(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n,a=r.length;for(;a-- >0;)if(n=r[a],t===n.toLowerCase())return n;return null}const he="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,pe=e=>!K(e)&&e!==he,fe=(ge="undefined"!=typeof Uint8Array&&U(Uint8Array),e=>ge&&e instanceof ge);var ge;const ye=V("HTMLFormElement"),xe=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),be=V("RegExp"),ve=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};ue(r,(r,a)=>{let i;!1!==(i=t(r,a,e))&&(n[a]=i||r)}),Object.defineProperties(e,n)},Ne=V("AsyncFunction"),we=(Se="function"==typeof setImmediate,Ce=Q(he.postMessage),Se?setImmediate:Ce?(Ee=`axios@${Math.random()}`,ke=[],he.addEventListener("message",({source:e,data:t})=>{e===he&&t===Ee&&ke.length&&ke.shift()()},!1),e=>{ke.push(e),he.postMessage(Ee,"*")}):e=>setTimeout(e));var Se,Ce,Ee,ke;const Oe="undefined"!=typeof queueMicrotask?queueMicrotask.bind(he):"undefined"!=typeof process&&process.nextTick||we,je={isArray:W,isArrayBuffer:Y,isBuffer:G,isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||Q(e.append)&&("formdata"===(t=H(e))||"object"===t&&Q(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Y(e.buffer),t},isString:X,isNumber:Z,isBoolean:e=>!0===e||!1===e,isObject:ee,isPlainObject:te,isEmptyObject:e=>{if(!ee(e)||G(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(t){return!1}},isReadableStream:le,isRequest:oe,isResponse:ce,isHeaders:de,isUndefined:K,isDate:re,isFile:ne,isBlob:ae,isRegExp:be,isFunction:Q,isStream:e=>ee(e)&&Q(e.pipe),isURLSearchParams:se,isTypedArray:fe,isFileList:ie,forEach:ue,merge:function e(){const{caseless:t}=pe(this)&&this||{},r={},n=(n,a)=>{const i=t&&me(r,a)||a;te(r[i])&&te(n)?r[i]=e(r[i],n):te(n)?r[i]=e({},n):W(n)?r[i]=n.slice():r[i]=n};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&ue(arguments[a],n);return r},extend:(e,t,r,{allOwnKeys:n}={})=>(ue(t,(t,n)=>{r&&Q(t)?e[n]=I(t,r):e[n]=t},{allOwnKeys:n}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,n)=>{let a,i,s;const l={};if(t=t||{},null==e)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)s=a[i],n&&!n(s,e,t)||l[s]||(t[s]=e[s],l[s]=!0);e=!1!==r&&U(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:H,kindOfTest:V,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return-1!==n&&n===r},toArray:e=>{if(!e)return null;if(W(e))return e;let t=e.length;if(!Z(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{const r=(e&&e[F]).call(e);let n;for(;(n=r.next())&&!n.done;){const r=n.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let r;const n=[];for(;null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:ye,hasOwnProperty:xe,hasOwnProp:xe,reduceDescriptors:ve,freezeMethods:e=>{ve(e,(t,r)=>{if(Q(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=e[r];Q(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))})},toObjectSet:(e,t)=>{const r={},n=e=>{e.forEach(e=>{r[e]=!0})};return W(e)?n(e):n(String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,r){return t.toUpperCase()+r}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:me,global:he,isContextDefined:pe,isSpecCompliantForm:function(e){return!!(e&&Q(e.append)&&"FormData"===e[q]&&e[F])},toJSONObject:e=>{const t=new Array(10),r=(e,n)=>{if(ee(e)){if(t.indexOf(e)>=0)return;if(G(e))return e;if(!("toJSON"in e)){t[n]=e;const a=W(e)?[]:{};return ue(e,(e,t)=>{const i=r(e,n+1);!K(i)&&(a[t]=i)}),t[n]=void 0,a}}return e};return r(e,0)},isAsyncFn:Ne,isThenable:e=>e&&(ee(e)||Q(e))&&Q(e.then)&&Q(e.catch),setImmediate:we,asap:Oe,isIterable:e=>null!=e&&Q(e[F])};function Re(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}je.inherits(Re,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:je.toJSONObject(this.config),code:this.code,status:this.status}}});const Te=Re.prototype,Ae={};function Pe(e){return je.isPlainObject(e)||je.isArray(e)}function ze(e){return je.endsWith(e,"[]")?e.slice(0,-2):e}function Be(e,t,r){return e?e.concat(t).map(function(e,t){return e=ze(e),!r&&t?"["+e+"]":e}).join(r?".":""):t}["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Ae[e]={value:e}}),Object.defineProperties(Re,Ae),Object.defineProperty(Te,"isAxiosError",{value:!0}),Re.from=(e,t,r,n,a,i)=>{const s=Object.create(Te);return je.toFlatObject(e,s,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),Re.call(s,e.message,t,r,n,a),s.cause=e,s.name=e.name,i&&Object.assign(s,i),s};const Le=je.toFlatObject(je,{},null,function(e){return/^is[A-Z]/.test(e)});function _e(e,t,r){if(!je.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(r=je.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!je.isUndefined(t[e])})).metaTokens,a=r.visitor||c,i=r.dots,s=r.indexes,l=(r.Blob||"undefined"!=typeof Blob&&Blob)&&je.isSpecCompliantForm(t);if(!je.isFunction(a))throw new TypeError("visitor must be a function");function o(e){if(null===e)return"";if(je.isDate(e))return e.toISOString();if(je.isBoolean(e))return e.toString();if(!l&&je.isBlob(e))throw new Re("Blob is not supported. Use a Buffer instead.");return je.isArrayBuffer(e)||je.isTypedArray(e)?l&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,r,a){let l=e;if(e&&!a&&"object"==typeof e)if(je.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else if(je.isArray(e)&&function(e){return je.isArray(e)&&!e.some(Pe)}(e)||(je.isFileList(e)||je.endsWith(r,"[]"))&&(l=je.toArray(e)))return r=ze(r),l.forEach(function(e,n){!je.isUndefined(e)&&null!==e&&t.append(!0===s?Be([r],n,i):null===s?r:r+"[]",o(e))}),!1;return!!Pe(e)||(t.append(Be(a,r,i),o(e)),!1)}const d=[],u=Object.assign(Le,{defaultVisitor:c,convertValue:o,isVisitable:Pe});if(!je.isObject(e))throw new TypeError("data must be an object");return function e(r,n){if(!je.isUndefined(r)){if(-1!==d.indexOf(r))throw Error("Circular reference detected in "+n.join("."));d.push(r),je.forEach(r,function(r,i){!0===(!(je.isUndefined(r)||null===r)&&a.call(t,r,je.isString(i)?i.trim():i,n,u))&&e(r,n?n.concat(i):[i])}),d.pop()}}(e),t}function Me(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Ie(e,t){this._pairs=[],e&&_e(e,this,t)}const De=Ie.prototype;function Ue(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Fe(e,t,r){if(!t)return e;const n=r&&r.encode||Ue;je.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let i;if(i=a?a(t,r):je.isURLSearchParams(t)?t.toString():new Ie(t,r).toString(n),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}De.append=function(e,t){this._pairs.push([e,t])},De.toString=function(e){const t=e?function(t){return e.call(this,t,Me)}:Me;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const qe=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){je.forEach(this.handlers,function(t){null!==t&&e(t)})}},He={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$e={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:Ie,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Ve="undefined"!=typeof window&&"undefined"!=typeof document,Je="object"==typeof navigator&&navigator||void 0,We=Ve&&(!Je||["ReactNative","NativeScript","NS"].indexOf(Je.product)<0),Ke="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,Ge=Ve&&window.location.href||"http://localhost",Ye=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ve,hasStandardBrowserEnv:We,hasStandardBrowserWebWorkerEnv:Ke,navigator:Je,origin:Ge},Symbol.toStringTag,{value:"Module"})),Xe=c(c({},Ye),$e);function Qe(e){function t(e,r,n,a){let i=e[a++];if("__proto__"===i)return!0;const s=Number.isFinite(+i),l=a>=e.length;return i=!i&&je.isArray(n)?n.length:i,l?(je.hasOwnProp(n,i)?n[i]=[n[i],r]:n[i]=r,!s):(n[i]&&je.isObject(n[i])||(n[i]=[]),t(e,r,n[i],a)&&je.isArray(n[i])&&(n[i]=function(e){const t={},r=Object.keys(e);let n;const a=r.length;let i;for(n=0;n<a;n++)i=r[n],t[i]=e[i];return t}(n[i])),!s)}if(je.isFormData(e)&&je.isFunction(e.entries)){const r={};return je.forEachEntry(e,(e,n)=>{t(function(e){return je.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),n,r,0)}),r}return null}const Ze={transitional:He,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",n=r.indexOf("application/json")>-1,a=je.isObject(e);if(a&&je.isHTMLForm(e)&&(e=new FormData(e)),je.isFormData(e))return n?JSON.stringify(Qe(e)):e;if(je.isArrayBuffer(e)||je.isBuffer(e)||je.isStream(e)||je.isFile(e)||je.isBlob(e)||je.isReadableStream(e))return e;if(je.isArrayBufferView(e))return e.buffer;if(je.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return _e(e,new Xe.classes.URLSearchParams,c({visitor:function(e,t,r,n){return Xe.isNode&&je.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((i=je.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return _e(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||n?(t.setContentType("application/json",!1),function(e,t,r){if(je.isString(e))try{return(t||JSON.parse)(e),je.trim(e)}catch(n){if("SyntaxError"!==n.name)throw n}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Ze.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(je.isResponse(e)||je.isReadableStream(e))return e;if(e&&je.isString(e)&&(r&&!this.responseType||n)){const r=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(a){if(r){if("SyntaxError"===a.name)throw Re.from(a,Re.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Xe.classes.FormData,Blob:Xe.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};je.forEach(["delete","get","head","post","put","patch"],e=>{Ze.headers[e]={}});const et=Ze,tt=je.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),rt=Symbol("internals");function nt(e){return e&&String(e).trim().toLowerCase()}function at(e){return!1===e||null==e?e:je.isArray(e)?e.map(at):String(e)}function it(e,t,r,n,a){return je.isFunction(n)?n.call(this,t,r):(a&&(t=r),je.isString(t)?je.isString(n)?-1!==t.indexOf(n):je.isRegExp(n)?n.test(t):void 0:void 0)}class st{constructor(e){e&&this.set(e)}set(e,t,r){const n=this;function a(e,t,r){const a=nt(t);if(!a)throw new Error("header name must be a non-empty string");const i=je.findKey(n,a);(!i||void 0===n[i]||!0===r||void 0===r&&!1!==n[i])&&(n[i||t]=at(e))}const i=(e,t)=>je.forEach(e,(e,r)=>a(e,r,t));if(je.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(je.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))i((e=>{const t={};let r,n,a;return e&&e.split("\n").forEach(function(e){a=e.indexOf(":"),r=e.substring(0,a).trim().toLowerCase(),n=e.substring(a+1).trim(),!r||t[r]&&tt[r]||("set-cookie"===r?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t})(e),t);else if(je.isObject(e)&&je.isIterable(e)){let r,n,a={};for(const t of e){if(!je.isArray(t))throw TypeError("Object iterator must return a key-value pair");a[n=t[0]]=(r=a[n])?je.isArray(r)?[...r,t[1]]:[r,t[1]]:t[1]}i(a,t)}else null!=e&&a(t,e,r);return this}get(e,t){if(e=nt(e)){const r=je.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}(e);if(je.isFunction(t))return t.call(this,e,r);if(je.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=nt(e)){const r=je.findKey(this,e);return!(!r||void 0===this[r]||t&&!it(0,this[r],r,t))}return!1}delete(e,t){const r=this;let n=!1;function a(e){if(e=nt(e)){const a=je.findKey(r,e);!a||t&&!it(0,r[a],a,t)||(delete r[a],n=!0)}}return je.isArray(e)?e.forEach(a):a(e),n}clear(e){const t=Object.keys(this);let r=t.length,n=!1;for(;r--;){const a=t[r];e&&!it(0,this[a],a,e,!0)||(delete this[a],n=!0)}return n}normalize(e){const t=this,r={};return je.forEach(this,(n,a)=>{const i=je.findKey(r,a);if(i)return t[i]=at(n),void delete t[a];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}(a):String(a).trim();s!==a&&delete t[a],t[s]=at(n),r[s]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return je.forEach(this,(r,n)=>{null!=r&&!1!==r&&(t[n]=e&&je.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(e=>r.set(e)),r}static accessor(e){const t=(this[rt]=this[rt]={accessors:{}}).accessors,r=this.prototype;function n(e){const n=nt(e);t[n]||(function(e,t){const r=je.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(e,r,a){return this[n].call(this,t,e,r,a)},configurable:!0})})}(r,e),t[n]=!0)}return je.isArray(e)?e.forEach(n):n(e),this}}st.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),je.reduceDescriptors(st.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[r]=e}}}),je.freezeMethods(st);const lt=st;function ot(e,t){const r=this||et,n=t||r,a=lt.from(n.headers);let i=n.data;return je.forEach(e,function(e){i=e.call(r,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function ct(e){return!(!e||!e.__CANCEL__)}function dt(e,t,r){Re.call(this,null==e?"canceled":e,Re.ERR_CANCELED,t,r),this.name="CanceledError"}function ut(e,t,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new Re("Request failed with status code "+r.status,[Re.ERR_BAD_REQUEST,Re.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}je.inherits(dt,Re,{__CANCEL__:!0});const mt=(e,t,r=3)=>{let n=0;const a=function(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a,i=0,s=0;return t=void 0!==t?t:1e3,function(l){const o=Date.now(),c=n[s];a||(a=o),r[i]=l,n[i]=o;let d=s,u=0;for(;d!==i;)u+=r[d++],d%=e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),o-a<t)return;const m=c&&o-c;return m?Math.round(1e3*u/m):void 0}}(50,250);return function(e,t){let r,n,a=0,i=1e3/t;const s=(t,i=Date.now())=>{a=i,r=null,n&&(clearTimeout(n),n=null),e(...t)};return[(...e)=>{const t=Date.now(),l=t-a;l>=i?s(e,t):(r=e,n||(n=setTimeout(()=>{n=null,s(r)},i-l)))},()=>r&&s(r)]}(r=>{const i=r.loaded,s=r.lengthComputable?r.total:void 0,l=i-n,o=a(l);n=i,e({loaded:i,total:s,progress:s?i/s:void 0,bytes:l,rate:o||void 0,estimated:o&&s&&i<=s?(s-i)/o:void 0,event:r,lengthComputable:null!=s,[t?"download":"upload"]:!0})},r)},ht=(e,t)=>{const r=null!=e;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},pt=e=>(...t)=>je.asap(()=>e(...t)),ft=Xe.hasStandardBrowserEnv?(gt=new URL(Xe.origin),yt=Xe.navigator&&/(msie|trident)/i.test(Xe.navigator.userAgent),e=>(e=new URL(e,Xe.origin),gt.protocol===e.protocol&&gt.host===e.host&&(yt||gt.port===e.port))):()=>!0;var gt,yt;const xt=Xe.hasStandardBrowserEnv?{write(e,t,r,n,a,i){const s=[e+"="+encodeURIComponent(t)];je.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),je.isString(n)&&s.push("path="+n),je.isString(a)&&s.push("domain="+a),!0===i&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function bt(e,t,r){let n=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(n||0==r)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const vt=e=>e instanceof lt?c({},e):e;function Nt(e,t){t=t||{};const r={};function n(e,t,r,n){return je.isPlainObject(e)&&je.isPlainObject(t)?je.merge.call({caseless:n},e,t):je.isPlainObject(t)?je.merge({},t):je.isArray(t)?t.slice():t}function a(e,t,r,a){return je.isUndefined(t)?je.isUndefined(e)?void 0:n(void 0,e,0,a):n(e,t,0,a)}function i(e,t){if(!je.isUndefined(t))return n(void 0,t)}function s(e,t){return je.isUndefined(t)?je.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function l(r,a,i){return i in t?n(r,a):i in e?n(void 0,r):void 0}const o={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l,headers:(e,t,r)=>a(vt(e),vt(t),0,!0)};return je.forEach(Object.keys(c(c({},e),t)),function(n){const i=o[n]||a,s=i(e[n],t[n],n);je.isUndefined(s)&&i!==l||(r[n]=s)}),r}const wt=e=>{const t=Nt({},e);let r,{data:n,withXSRFToken:a,xsrfHeaderName:i,xsrfCookieName:s,headers:l,auth:o}=t;if(t.headers=l=lt.from(l),t.url=Fe(bt(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),je.isFormData(n))if(Xe.hasStandardBrowserEnv||Xe.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(!1!==(r=l.getContentType())){const[e,...t]=r?r.split(";").map(e=>e.trim()).filter(Boolean):[];l.setContentType([e||"multipart/form-data",...t].join("; "))}if(Xe.hasStandardBrowserEnv&&(a&&je.isFunction(a)&&(a=a(t)),a||!1!==a&&ft(t.url))){const e=i&&s&&xt.read(s);e&&l.set(i,e)}return t},St="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function(t,r){const n=wt(e);let a=n.data;const i=lt.from(n.headers).normalize();let s,l,o,c,d,{responseType:u,onUploadProgress:m,onDownloadProgress:h}=n;function p(){c&&c(),d&&d(),n.cancelToken&&n.cancelToken.unsubscribe(s),n.signal&&n.signal.removeEventListener("abort",s)}let f=new XMLHttpRequest;function g(){if(!f)return;const n=lt.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());ut(function(e){t(e),p()},function(e){r(e),p()},{data:u&&"text"!==u&&"json"!==u?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:n,config:e,request:f}),f=null}f.open(n.method.toUpperCase(),n.url,!0),f.timeout=n.timeout,"onloadend"in f?f.onloadend=g:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(g)},f.onabort=function(){f&&(r(new Re("Request aborted",Re.ECONNABORTED,e,f)),f=null)},f.onerror=function(){r(new Re("Network Error",Re.ERR_NETWORK,e,f)),f=null},f.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const a=n.transitional||He;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),r(new Re(t,a.clarifyTimeoutError?Re.ETIMEDOUT:Re.ECONNABORTED,e,f)),f=null},void 0===a&&i.setContentType(null),"setRequestHeader"in f&&je.forEach(i.toJSON(),function(e,t){f.setRequestHeader(t,e)}),je.isUndefined(n.withCredentials)||(f.withCredentials=!!n.withCredentials),u&&"json"!==u&&(f.responseType=n.responseType),h&&([o,d]=mt(h,!0),f.addEventListener("progress",o)),m&&f.upload&&([l,c]=mt(m),f.upload.addEventListener("progress",l),f.upload.addEventListener("loadend",c)),(n.cancelToken||n.signal)&&(s=t=>{f&&(r(!t||t.type?new dt(null,e,f):t),f.abort(),f=null)},n.cancelToken&&n.cancelToken.subscribe(s),n.signal&&(n.signal.aborted?s():n.signal.addEventListener("abort",s)));const y=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(n.url);y&&-1===Xe.protocols.indexOf(y)?r(new Re("Unsupported protocol "+y+":",Re.ERR_BAD_REQUEST,e)):f.send(a||null)})},Ct=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let r,n=new AbortController;const a=function(e){if(!r){r=!0,s();const t=e instanceof Error?e:this.reason;n.abort(t instanceof Re?t:new dt(t instanceof Error?t.message:t))}};let i=t&&setTimeout(()=>{i=null,a(new Re(`timeout ${t} of ms exceeded`,Re.ETIMEDOUT))},t);const s=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)}),e=null)};e.forEach(e=>e.addEventListener("abort",a));const{signal:l}=n;return l.unsubscribe=()=>je.asap(s),l}},Et=function*(e,t){let r=e.byteLength;if(!t||r<t)return void(yield e);let n,a=0;for(;a<r;)n=a+t,yield e.slice(a,n),a=n},kt=function(e,t){return h(this,null,function*(){try{for(var r,n,a,i=((e,t,r)=>(t=e[l("asyncIterator")])?t.call(e):(e=e[l("iterator")](),t={},(r=(r,n)=>(n=e[r])&&(t[r]=t=>new Promise((r,a,i)=>(t=n.call(e,t),i=t.done,Promise.resolve(t.value).then(e=>r({value:e,done:i}),a)))))("next"),r("return"),t))(Ot(e));r=!(n=yield new m(i.next())).done;r=!1){const e=n.value;yield*p(Et(e,t))}}catch(n){a=[n]}finally{try{r&&(n=i.return)&&(yield new m(n.call(i)))}finally{if(a)throw a[0]}}})},Ot=function(e){return h(this,null,function*(){if(e[Symbol.asyncIterator])return void(yield*p(e));const t=e.getReader();try{for(;;){const{done:e,value:r}=yield new m(t.read());if(e)break;yield r}}finally{yield new m(t.cancel())}})},jt=(e,t,r,n)=>{const a=kt(e,t);let i,s=0,l=e=>{i||(i=!0,n&&n(e))};return new ReadableStream({pull(e){return u(this,null,function*(){try{const{done:t,value:n}=yield a.next();if(t)return l(),void e.close();let i=n.byteLength;if(r){let e=s+=i;r(e)}e.enqueue(new Uint8Array(n))}catch(t){throw l(t),t}})},cancel:e=>(l(e),a.return())},{highWaterMark:2})},Rt="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,Tt=Rt&&"function"==typeof ReadableStream,At=Rt&&("function"==typeof TextEncoder?(Pt=new TextEncoder,e=>Pt.encode(e)):t=>u(e,null,function*(){return new Uint8Array(yield new Response(t).arrayBuffer())}));var Pt;const zt=(e,...t)=>{try{return!!e(...t)}catch(r){return!1}},Bt=Tt&&zt(()=>{let e=!1;const t=new Request(Xe.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Lt=Tt&&zt(()=>je.isReadableStream(new Response("").body)),_t={stream:Lt&&(e=>e.body)};var Mt;Rt&&(Mt=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!_t[e]&&(_t[e]=je.isFunction(Mt[e])?t=>t[e]():(t,r)=>{throw new Re(`Response type '${e}' is not supported`,Re.ERR_NOT_SUPPORT,r)})}));const It=(t,r)=>u(e,null,function*(){const n=je.toFiniteNumber(t.getContentLength());return null==n?(t=>u(e,null,function*(){if(null==t)return 0;if(je.isBlob(t))return t.size;if(je.isSpecCompliantForm(t)){const e=new Request(Xe.origin,{method:"POST",body:t});return(yield e.arrayBuffer()).byteLength}return je.isArrayBufferView(t)||je.isArrayBuffer(t)?t.byteLength:(je.isURLSearchParams(t)&&(t+=""),je.isString(t)?(yield At(t)).byteLength:void 0)}))(r):n}),Dt={http:null,xhr:St,fetch:Rt&&(t=>u(e,null,function*(){let{url:e,method:r,data:n,signal:a,cancelToken:i,timeout:s,onDownloadProgress:l,onUploadProgress:o,responseType:u,headers:m,withCredentials:h="same-origin",fetchOptions:p}=wt(t);u=u?(u+"").toLowerCase():"text";let f,g=Ct([a,i&&i.toAbortSignal()],s);const y=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let x;try{if(o&&Bt&&"get"!==r&&"head"!==r&&0!==(x=yield It(m,n))){let t,r=new Request(e,{method:"POST",body:n,duplex:"half"});if(je.isFormData(n)&&(t=r.headers.get("content-type"))&&m.setContentType(t),r.body){const[e,t]=ht(x,mt(pt(o)));n=jt(r.body,65536,e,t)}}je.isString(h)||(h=h?"include":"omit");const a="credentials"in Request.prototype;f=new Request(e,d(c({},p),{signal:g,method:r.toUpperCase(),headers:m.normalize().toJSON(),body:n,duplex:"half",credentials:a?h:void 0}));let i=yield fetch(f,p);const s=Lt&&("stream"===u||"response"===u);if(Lt&&(l||s&&y)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=i[t]});const t=je.toFiniteNumber(i.headers.get("content-length")),[r,n]=l&&ht(t,mt(pt(l),!0))||[];i=new Response(jt(i.body,65536,r,()=>{n&&n(),y&&y()}),e)}u=u||"text";let b=yield _t[je.findKey(_t,u)||"text"](i,t);return!s&&y&&y(),yield new Promise((e,r)=>{ut(e,r,{data:b,headers:lt.from(i.headers),status:i.status,statusText:i.statusText,config:t,request:f})})}catch(b){if(y&&y(),b&&"TypeError"===b.name&&/Load failed|fetch/i.test(b.message))throw Object.assign(new Re("Network Error",Re.ERR_NETWORK,t,f),{cause:b.cause||b});throw Re.from(b,b&&b.code,t,f)}}))};je.forEach(Dt,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(r){}Object.defineProperty(e,"adapterName",{value:t})}});const Ut=e=>`- ${e}`,Ft=e=>je.isFunction(e)||null===e||!1===e,qt=e=>{e=je.isArray(e)?e:[e];const{length:t}=e;let r,n;const a={};for(let i=0;i<t;i++){let t;if(r=e[i],n=r,!Ft(r)&&(n=Dt[(t=String(r)).toLowerCase()],void 0===n))throw new Re(`Unknown adapter '${t}'`);if(n)break;a[t||"#"+i]=n}if(!n){const e=Object.entries(a).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build"));throw new Re("There is no suitable adapter to dispatch the request "+(t?e.length>1?"since :\n"+e.map(Ut).join("\n"):" "+Ut(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return n};function Ht(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new dt(null,e)}function $t(e){return Ht(e),e.headers=lt.from(e.headers),e.data=ot.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),qt(e.adapter||et.adapter)(e).then(function(t){return Ht(e),t.data=ot.call(e,e.transformResponse,t),t.headers=lt.from(t.headers),t},function(t){return ct(t)||(Ht(e),t&&t.response&&(t.response.data=ot.call(e,e.transformResponse,t.response),t.response.headers=lt.from(t.response.headers))),Promise.reject(t)})}const Vt="1.11.0",Jt={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Jt[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Wt={};Jt.transitional=function(e,t,r){return(n,a,i)=>{if(!1===e)throw new Re(function(e,t){return"[Axios v"+Vt+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}(a," has been removed"+(t?" in "+t:"")),Re.ERR_DEPRECATED);return t&&!Wt[a]&&(Wt[a]=!0),!e||e(n,a,i)}},Jt.spelling=function(e){return(e,t)=>!0};const Kt={assertOptions:function(e,t,r){if("object"!=typeof e)throw new Re("options must be an object",Re.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const i=n[a],s=t[i];if(s){const t=e[i],r=void 0===t||s(t,i,e);if(!0!==r)throw new Re("option "+i+" must be "+r,Re.ERR_BAD_OPTION_VALUE);continue}if(!0!==r)throw new Re("Unknown option "+i,Re.ERR_BAD_OPTION)}},validators:Jt},Gt=Kt.validators;class Yt{constructor(e){this.defaults=e||{},this.interceptors={request:new qe,response:new qe}}request(e,t){return u(this,null,function*(){try{return yield this._request(e,t)}catch(r){if(r instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{r.stack?t&&!String(r.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(r.stack+="\n"+t):r.stack=t}catch(n){}}throw r}})}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=Nt(this.defaults,t);const{transitional:r,paramsSerializer:n,headers:a}=t;void 0!==r&&Kt.assertOptions(r,{silentJSONParsing:Gt.transitional(Gt.boolean),forcedJSONParsing:Gt.transitional(Gt.boolean),clarifyTimeoutError:Gt.transitional(Gt.boolean)},!1),null!=n&&(je.isFunction(n)?t.paramsSerializer={serialize:n}:Kt.assertOptions(n,{encode:Gt.function,serialize:Gt.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Kt.assertOptions(t,{baseUrl:Gt.spelling("baseURL"),withXsrfToken:Gt.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=a&&je.merge(a.common,a[t.method]);a&&je.forEach(["delete","get","head","post","put","patch","common"],e=>{delete a[e]}),t.headers=lt.concat(i,a);const s=[];let l=!0;this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(l=l&&e.synchronous,s.unshift(e.fulfilled,e.rejected))});const o=[];let c;this.interceptors.response.forEach(function(e){o.push(e.fulfilled,e.rejected)});let d,u=0;if(!l){const e=[$t.bind(this),void 0];for(e.unshift(...s),e.push(...o),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=s.length;let m=t;for(u=0;u<d;){const e=s[u++],t=s[u++];try{m=e(m)}catch(h){t.call(this,h);break}}try{c=$t.call(this,m)}catch(h){return Promise.reject(h)}for(u=0,d=o.length;u<d;)c=c.then(o[u++],o[u++]);return c}getUri(e){return Fe(bt((e=Nt(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}je.forEach(["delete","get","head","options"],function(e){Yt.prototype[e]=function(t,r){return this.request(Nt(r||{},{method:e,url:t,data:(r||{}).data}))}}),je.forEach(["post","put","patch"],function(e){function t(t){return function(r,n,a){return this.request(Nt(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}Yt.prototype[e]=t(),Yt.prototype[e+"Form"]=t(!0)});const Xt=Yt;class Qt{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const r=this;this.promise.then(e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null}),this.promise.then=e=>{let t;const n=new Promise(e=>{r.subscribe(e),t=e}).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e(function(e,n,a){r.reason||(r.reason=new dt(e,n,a),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Qt(function(t){e=t}),cancel:e}}}const Zt=Qt,er={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(er).forEach(([e,t])=>{er[t]=e});const tr=er,rr=function e(t){const r=new Xt(t),n=I(Xt.prototype.request,r);return je.extend(n,Xt.prototype,r,{allOwnKeys:!0}),je.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return e(Nt(t,r))},n}(et);rr.Axios=Xt,rr.CanceledError=dt,rr.CancelToken=Zt,rr.isCancel=ct,rr.VERSION=Vt,rr.toFormData=_e,rr.AxiosError=Re,rr.Cancel=rr.CanceledError,rr.all=function(e){return Promise.all(e)},rr.spread=function(e){return function(t){return e.apply(null,t)}},rr.isAxiosError=function(e){return je.isObject(e)&&!0===e.isAxiosError},rr.mergeConfig=Nt,rr.AxiosHeaders=lt,rr.formToJSON=e=>Qe(je.isHTMLForm(e)?new FormData(e):e),rr.getAdapter=qt,rr.HttpStatusCode=tr,rr.default=rr;const nr=rr.create({baseURL:{}.VITE_API_BASE_URL||"http://localhost:1337/api",timeout:1e4,headers:{"Content-Type":"application/json"}});nr.interceptors.request.use(e=>{const t=localStorage.getItem("authToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),nr.interceptors.response.use(e=>e.data,e=>{var t,r,n,a,i,s,l,o;401===(null==(t=e.response)?void 0:t.status)&&(localStorage.removeItem("authToken"),window.location.href="/login");const c=(null==(a=null==(n=null==(r=e.response)?void 0:r.data)?void 0:n.error)?void 0:a.message)||(null==(s=null==(i=e.response)?void 0:i.data)?void 0:s.message)||e.message||"网络错误，请稍后重试";return Promise.reject({message:c,status:null==(l=e.response)?void 0:l.status,data:null==(o=e.response)?void 0:o.data})});const ar={register(e){return u(this,null,function*(){return nr.post("/auth/local/register",e)})},login(e,t){return u(this,null,function*(){return nr.post("/auth/local",{identifier:e,password:t})})},getCurrentUser(){return u(this,null,function*(){return nr.get("/users/me")})},updateProfile(e){return u(this,null,function*(){return nr.put("/users/me",e)})},changePassword(e,t){return u(this,null,function*(){return nr.put("/users/me",{currentPassword:e,password:t})})},forgotPassword(e){return u(this,null,function*(){return nr.post("/auth/forgot-password",{email:e})})},resetPassword(e,t,r){return u(this,null,function*(){return nr.post("/auth/reset-password",{code:e,password:t,passwordConfirmation:r})})},verifyEmail(e){return u(this,null,function*(){return nr.post("/auth/email-confirmation",{code:e})})},resendVerificationEmail(e){return u(this,null,function*(){return nr.post("/auth/send-email-confirmation",{email:e})})},logout(){localStorage.removeItem("authToken"),localStorage.removeItem("user")},isAuthenticated:()=>!!localStorage.getItem("authToken"),getStoredUser(){const e=localStorage.getItem("user");return e?JSON.parse(e):null},storeUser(e){localStorage.setItem("user",JSON.stringify(e))}},ir={getTours(){return u(this,arguments,function*(e={}){const t=new URLSearchParams;e.populate&&t.append("populate",e.populate),e.filters&&t.append("filters",JSON.stringify(e.filters)),e.sort&&t.append("sort",e.sort),e.pagination&&t.append("pagination",JSON.stringify(e.pagination));const r=t.toString(),n="/tours"+(r?`?${r}`:"");return nr.get(n)})},getTourById(e,t="*"){return u(this,null,function*(){return nr.get(`/tours/${e}?populate=${t}`)})},getTrendingTours(e=6){return u(this,null,function*(){return nr.get(`/tours?filters[isTrending][$eq]=true&pagination[limit]=${e}&populate=*`)})},getBestSellerTours(e=6){return u(this,null,function*(){return nr.get(`/tours?filters[isBestSeller][$eq]=true&pagination[limit]=${e}&populate=*`)})},getToursByCategory(e,t=12){return u(this,null,function*(){return nr.get(`/tours?filters[category][id][$eq]=${e}&pagination[limit]=${t}&populate=*`)})},getToursByDestination(e,t=12){return u(this,null,function*(){return nr.get(`/tours?filters[destination][id][$eq]=${e}&pagination[limit]=${t}&populate=*`)})},searchTours(e,t=12){return u(this,null,function*(){return nr.get(`/tours?filters[$or][0][title_zh][$containsi]=${e}&filters[$or][1][title_en][$containsi]=${e}&pagination[limit]=${t}&populate=*`)})}},sr=(t,...r)=>u(e,[t,...r],function*(e,t={}){return nr.post("/guides/matches",e,{params:t})}),lr={getUserOrders(){return u(this,arguments,function*(e={}){const t=new URLSearchParams;e.populate&&t.append("populate",e.populate),e.filters&&t.append("filters",JSON.stringify(e.filters)),e.sort&&t.append("sort",e.sort),e.pagination&&t.append("pagination",JSON.stringify(e.pagination));const r=t.toString(),n="/orders"+(r?`?${r}`:"");return nr.get(n)})},getOrderById(e,t="*"){return u(this,null,function*(){return nr.get(`/orders/${e}?populate=${t}`)})},createOrder(e){return u(this,null,function*(){return nr.post("/orders",{data:e})})},updateOrderStatus(e,t){return u(this,arguments,function*(e,t,r={}){return nr.put(`/orders/${e}`,{data:c({status:t},r)})})},cancelOrder(e,t){return u(this,null,function*(){return nr.put(`/orders/${e}`,{data:{status:"cancelled",cancelReason:t}})})},addOrderReview(e,t,r){return u(this,null,function*(){return nr.put(`/orders/${e}`,{data:{review:t,rating:r}})})},getOrderStats(){return u(this,null,function*(){return nr.get("/orders?populate=*")})},getOrdersByStatus(e,t=20){return u(this,null,function*(){return nr.get(`/orders?filters[status][$eq]=${e}&pagination[limit]=${t}&populate=*&sort=createdAt:desc`)})}},or={createStripeCheckoutSession(e){return u(this,null,function*(){return nr.post("/stripe/checkout",e)})},getPaymentStatus(e){return u(this,null,function*(){return nr.get(`/orders/${e}?populate=*`)})},handlePaymentSuccess(e){return u(this,null,function*(){return nr.put(`/orders/${e}`,{data:{paymentStatus:"paid",status:"paid"}})})},handlePaymentFailure(e){return u(this,null,function*(){return nr.put(`/orders/${e}`,{data:{paymentStatus:"failed"}})})},requestRefund(e,t){return u(this,null,function*(){return nr.post(`/orders/${e}/refund`,{reason:t})})},getPaymentHistory(e){return u(this,null,function*(){return nr.get(`/orders?filters[user][id][$eq]=${e}&filters[paymentStatus][$in][0]=paid&filters[paymentStatus][$in][1]=refunded&populate=*&sort=createdAt:desc`)})}},cr=(...t)=>u(e,[...t],function*(e={}){return nr.get("/reviews",{params:e})}),dr=t=>u(e,null,function*(){return nr.post("/reviews",t)}),ur=(t,r)=>u(e,null,function*(){return nr.get("/reviews/stats",{params:{entityType:t,entityId:r}})}),mr=(...t)=>u(e,[...t],function*(e={}){return nr.get("/notifications",{params:d(c({},e),{filters:d(c({},e.filters),{user:localStorage.getItem("userId")})})})}),hr=t=>u(e,null,function*(){return nr.put(`/notifications/${t}`,{data:{isRead:!0}})}),pr=()=>u(e,null,function*(){return nr.put("/notifications/mark-all-read",{data:{userId:localStorage.getItem("userId")}})}),fr=t=>u(e,null,function*(){return nr.delete(`/notifications/${t}`)}),gr=()=>u(e,null,function*(){return nr.get("/notifications/unread-count",{params:{userId:localStorage.getItem("userId")}})}),yr=f.createContext(),xr=({children:t})=>{const[r,n]=f.useState(null),[a,i]=f.useState(!0),[s,l]=f.useState(null);f.useEffect(()=>{o()},[]);const o=()=>u(e,null,function*(){try{if(i(!0),ar.isAuthenticated()){const e=yield ar.getCurrentUser();n(e),ar.storeUser(e)}}catch(e){ar.logout()}finally{i(!1)}}),c={user:r,loading:a,error:s,isAuthenticated:!!r,login:(t,r)=>u(e,null,function*(){try{i(!0),l(null);const e=yield ar.login(t,r);return localStorage.setItem("authToken",e.jwt),n(e.user),ar.storeUser(e.user),e}catch(e){throw l(e.message||"登录失败"),e}finally{i(!1)}}),register:t=>u(e,null,function*(){try{i(!0),l(null);const e=yield ar.register(t);return localStorage.setItem("authToken",e.jwt),n(e.user),ar.storeUser(e.user),e}catch(e){throw l(e.message||"注册失败"),e}finally{i(!1)}}),logout:()=>{ar.logout(),n(null),l(null)},updateProfile:t=>u(e,null,function*(){try{i(!0),l(null);const e=yield ar.updateProfile(t);return n(e),ar.storeUser(e),e}catch(e){throw l(e.message||"更新失败"),e}finally{i(!1)}}),clearError:()=>{l(null)}};return z(yr.Provider,{value:c,children:t})},br=()=>{const e=f.useContext(yr);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},vr=f.createContext(),Nr=({children:t})=>{const[r,n]=f.useState([]),[a,i]=f.useState(0),[s,l]=f.useState(!1),[o,m]=f.useState(null),{user:h,isAuthenticated:p}=br(),g=()=>u(e,null,function*(){if(p&&(null==h?void 0:h.id))try{l(!0);const e=yield mr({populate:"*",sort:"createdAt:desc",pagination:{limit:50}});n(e.data||[])}catch(e){m("获取通知失败")}finally{l(!1)}}),y=()=>u(e,null,function*(){if(p&&(null==h?void 0:h.id))try{const e=yield gr();i(e.count||0)}catch(e){}});f.useEffect(()=>{p&&(null==h?void 0:h.id)&&(g(),y())},[p,null==h?void 0:h.id]);const x={notifications:r,unreadCount:a,loading:s,error:o,fetchNotifications:g,fetchUnreadCount:y,markAsRead:t=>u(e,null,function*(){try{yield hr(t),n(e=>e.map(e=>e.id===t?d(c({},e),{attributes:d(c({},e.attributes),{isRead:!0})}):e)),i(e=>Math.max(0,e-1))}catch(e){}}),markAllAsRead:()=>u(e,null,function*(){try{yield pr(),n(e=>e.map(e=>d(c({},e),{attributes:d(c({},e.attributes),{isRead:!0})}))),i(0)}catch(e){}}),deleteNotification:t=>u(e,null,function*(){try{yield fr(t),n(e=>e.filter(e=>e.id!==t));const e=r.find(e=>e.id===t);e&&!e.attributes.isRead&&i(e=>Math.max(0,e-1))}catch(e){}}),addNotification:e=>{n(t=>[e,...t]),e.attributes.isRead||i(e=>e+1)},getNotificationIcon:e=>({order:"📋",payment:"💳",guide:"👥",review:"⭐",system:"🔔",promotion:"🎉"}[e]||"📢"),getNotificationColor:e=>({order:"text-blue-600",payment:"text-green-600",guide:"text-purple-600",review:"text-yellow-600",system:"text-gray-600",promotion:"text-red-600"}[e]||"text-gray-600")};return z(vr.Provider,{value:x,children:t})};function wr({size:e="md",text:t="加载中..."}){return B("div",{className:"flex flex-col items-center justify-center p-8",children:[z("div",{className:`${{sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12",xl:"w-16 h-16"}[e]} animate-spin rounded-full border-4 border-gray-200 border-t-primary-600`}),t&&z("p",{className:"mt-4 text-gray-600 text-sm",children:t})]})}function Sr({children:e,requireAuth:t=!0,roles:r=[]}){var n;const{user:a,loading:i,isAuthenticated:s}=br(),l=b();if(i)return z("div",{className:"min-h-screen flex items-center justify-center",children:z(wr,{size:"lg",text:"正在验证身份..."})});if(t&&!s)return z(v,{to:"/login",state:{from:l},replace:!0});if(!t&&s)return z(v,{to:"/",replace:!0});if(r.length>0&&a){const e=(null==(n=a.role)?void 0:n.name)||a.role;if(!r.includes(e))return z("div",{className:"min-h-screen flex items-center justify-center",children:B("div",{className:"text-center",children:[z("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"访问被拒绝"}),z("p",{className:"text-gray-600 mb-6",children:"您没有权限访问此页面"}),z("button",{onClick:()=>window.history.back(),className:"bg-primary-600 text-white px-6 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:"返回上一页"})]})})}return e}function Cr(e){return j({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"}}]})(e)}function Er(e){return j({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"}}]})(e)}function kr(e){return j({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"}}]})(e)}function Or(e){return j({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"}}]})(e)}function jr(e){return j({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"}}]})(e)}function Rr(e){return j({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"}}]})(e)}function Tr(e){return j({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"}}]})(e)}function Ar(e){return j({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"}}]})(e)}function Pr(e){return j({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"}}]})(e)}function zr(e){return j({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"}}]})(e)}function Br(e){return j({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"}}]})(e)}function Lr(e){return j({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V256H0v176zm192-68c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-40zm-128 0c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM576 80v48H0V80c0-26.5 21.5-48 48-48h480c26.5 0 48 21.5 48 48z"}}]})(e)}function _r(e){return j({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"}}]})(e)}function Mr(e){return j({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"}}]})(e)}function Ir(e){return j({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"}}]})(e)}function Dr(e){return j({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm80 168c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zm-160 0c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zm170.2 218.2C315.8 367.4 282.9 352 248 352s-67.8 15.4-90.2 42.2c-13.5 16.3-38.1-4.2-24.6-20.5C161.7 339.6 203.6 320 248 320s86.3 19.6 114.7 53.8c13.6 16.2-11 36.7-24.5 20.4z"}}]})(e)}function Ur(e){return j({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"}}]})(e)}function Fr(e){return j({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M192 208c0-17.67-14.33-32-32-32h-16c-35.35 0-64 28.65-64 64v48c0 35.35 28.65 64 64 64h16c17.67 0 32-14.33 32-32V208zm176 144c35.35 0 64-28.65 64-64v-48c0-35.35-28.65-64-64-64h-16c-17.67 0-32 14.33-32 32v112c0 17.67 14.33 32 32 32h16zM256 0C113.18 0 4.58 118.83 0 256v16c0 8.84 7.16 16 16 16h16c8.84 0 16-7.16 16-16v-16c0-114.69 93.31-208 208-208s208 93.31 208 208h-.12c.08 2.43.12 165.72.12 165.72 0 23.35-18.93 42.28-42.28 42.28H320c0-26.51-21.49-48-48-48h-32c-26.51 0-48 21.49-48 48s21.49 48 48 48h181.72c49.86 0 90.28-40.42 90.28-90.28V256C507.42 118.83 398.82 0 256 0z"}}]})(e)}function qr(e){return j({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"}}]})(e)}function Hr(e){return j({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M152.1 236.2c-3.5-12.1-7.8-33.2-7.8-33.2h-.5s-4.3 21.1-7.8 33.2l-11.1 37.5H163zM616 96H336v320h280c13.3 0 24-10.7 24-24V120c0-13.3-10.7-24-24-24zm-24 120c0 6.6-5.4 12-12 12h-11.4c-6.9 23.6-21.7 47.4-42.7 69.9 8.4 6.4 17.1 12.5 26.1 18 5.5 3.4 7.3 10.5 4.1 16.2l-7.9 13.9c-3.4 5.9-10.9 7.8-16.7 4.3-12.6-7.8-24.5-16.1-35.4-24.9-10.9 8.7-22.7 17.1-35.4 24.9-5.8 3.5-13.3 1.6-16.7-4.3l-7.9-13.9c-3.2-5.6-1.4-12.8 4.2-16.2 9.3-5.7 18-11.7 26.1-18-7.9-8.4-14.9-17-21-25.7-4-5.7-2.2-13.6 3.7-17.1l6.5-3.9 7.3-4.3c5.4-3.2 12.4-1.7 16 3.4 5 7 10.8 14 17.4 20.9 13.5-14.2 23.8-28.9 30-43.2H412c-6.6 0-12-5.4-12-12v-16c0-6.6 5.4-12 12-12h64v-16c0-6.6 5.4-12 12-12h16c6.6 0 12 5.4 12 12v16h64c6.6 0 12 5.4 12 12zM0 120v272c0 13.3 10.7 24 24 24h280V96H24c-13.3 0-24 10.7-24 24zm58.9 216.1L116.4 167c1.7-4.9 6.2-8.1 11.4-8.1h32.5c5.1 0 9.7 3.3 11.4 8.1l57.5 169.1c2.6 7.8-3.1 15.9-11.4 15.9h-22.9a12 12 0 0 1-11.5-8.6l-9.4-31.9h-60.2l-9.1 31.8c-1.5 5.1-6.2 8.7-11.5 8.7H70.3c-8.2 0-14-8.1-11.4-15.9z"}}]})(e)}function $r(e){return j({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"}}]})(e)}function Vr(e){return j({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"}}]})(e)}function Jr(e){return j({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm-80 168c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zm176 192H152c-21.2 0-21.2-32 0-32h192c21.2 0 21.2 32 0 32zm-16-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"}}]})(e)}function Wr(e){return j({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"}}]})(e)}function Kr(e){return j({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M480 192H365.71L260.61 8.06A16.014 16.014 0 0 0 246.71 0h-65.5c-10.63 0-18.3 10.17-15.38 20.39L214.86 192H112l-43.2-57.6c-3.02-4.03-7.77-6.4-12.8-6.4H16.01C5.6 128-2.04 137.78.49 147.88L32 256 .49 364.12C-2.04 374.22 5.6 384 16.01 384H56c5.04 0 9.78-2.37 12.8-6.4L112 320h102.86l-49.03 171.6c-2.92 10.22 4.75 20.4 15.38 20.4h65.5c5.74 0 11.04-3.08 13.89-8.06L365.71 320H480c35.35 0 96-28.65 96-64s-60.65-64-96-64z"}}]})(e)}function Gr(e){return j({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"}}]})(e)}function Yr(e){return j({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"}}]})(e)}function Xr(e){return j({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"}}]})(e)}function Qr(e){return j({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm80 168c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zm-160 0c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zm194.8 170.2C334.3 380.4 292.5 400 248 400s-86.3-19.6-114.8-53.8c-13.6-16.3 11-36.7 24.6-20.5 22.4 26.9 55.2 42.2 90.2 42.2s67.8-15.4 90.2-42.2c13.4-16.2 38.1 4.2 24.6 20.5z"}}]})(e)}function Zr(e){return j({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"}}]})(e)}function en(e){return j({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 56v240c0 13.255 10.745 24 24 24h80c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24H24C10.745 32 0 42.745 0 56zm40 200c0-13.255 10.745-24 24-24s24 10.745 24 24-10.745 24-24 24-24-10.745-24-24zm272 256c-20.183 0-29.485-39.293-33.931-57.795-5.206-21.666-10.589-44.07-25.393-58.902-32.469-32.524-49.503-73.967-89.117-113.111a11.98 11.98 0 0 1-3.558-8.521V59.901c0-6.541 5.243-11.878 11.783-11.998 15.831-.29 36.694-9.079 52.651-16.178C256.189 17.598 295.709.017 343.995 0h2.844c42.777 0 93.363.413 113.774 29.737 8.392 12.057 10.446 27.034 6.148 44.632 16.312 17.053 25.063 48.863 16.382 74.757 17.544 23.432 19.143 56.132 9.308 79.469l.11.11c11.893 11.949 19.523 31.259 19.439 49.197-.156 30.352-26.157 58.098-59.553 58.098H350.723C358.03 364.34 384 388.132 384 430.548 384 504 336 512 312 512z"}}]})(e)}function tn(e){return j({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M104 224H24c-13.255 0-24 10.745-24 24v240c0 13.255 10.745 24 24 24h80c13.255 0 24-10.745 24-24V248c0-13.255-10.745-24-24-24zM64 472c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zM384 81.452c0 42.416-25.97 66.208-33.277 94.548h101.723c33.397 0 59.397 27.746 59.553 58.098.084 17.938-7.546 37.249-19.439 49.197l-.11.11c9.836 23.337 8.237 56.037-9.308 79.469 8.681 25.895-.069 57.704-16.382 74.757 4.298 17.598 2.244 32.575-6.148 44.632C440.202 511.587 389.616 512 346.839 512l-2.845-.001c-48.287-.017-87.806-17.598-119.56-31.725-15.957-7.099-36.821-15.887-52.651-16.178-6.54-.12-11.783-5.457-11.783-11.998v-213.77c0-3.2 1.282-6.271 3.558-8.521 39.614-39.144 56.648-80.587 89.117-113.111 14.804-14.832 20.188-37.236 25.393-58.902C282.515 39.293 291.817 0 312 0c24 0 72 8 72 81.452z"}}]})(e)}function rn(e){return j({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"}}]})(e)}function nn(e){return j({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(e)}function an(e){return j({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}function sn(){const[e,t]=f.useState({location:"",activity:"",date:"",guests:""});return B("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[z("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url('https://images.unsplash.com/photo-1469474968028-56623f02e42e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2074&q=80')"},children:z("div",{className:"absolute inset-0 bg-black/40"})}),z("div",{className:"relative z-10 container mx-auto px-4 text-center text-white",children:B("div",{className:"max-w-4xl mx-auto",children:[z("h1",{className:"text-5xl md:text-7xl font-bold mb-6 animate-fade-in",children:"Explore the exotic world."}),z("p",{className:"text-xl md:text-2xl mb-12 text-gray-200 animate-slide-up",children:"City tours made for Marco Polo in you"}),z("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-8 border border-white/20 animate-slide-up",children:B("form",{onSubmit:e=>{e.preventDefault()},className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[B("div",{className:"relative",children:[z(Vr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),z("input",{type:"text",placeholder:"Location",value:e.location,onChange:r=>t(d(c({},e),{location:r.target.value})),className:"w-full pl-10 pr-4 py-4 bg-white/20 border border-white/30 rounded-lg text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-white/50"})]}),B("div",{className:"relative",children:[z(Gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),B("select",{value:e.activity,onChange:r=>t(d(c({},e),{activity:r.target.value})),className:"w-full pl-10 pr-4 py-4 bg-white/20 border border-white/30 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-white/50 appearance-none",children:[z("option",{value:"",children:"Activity"}),["Sea & Sailing","Trekking tours","Parachuting","Train travel","Ancient sites","City Tours","Hiking Trips","Jungle Safari"].map(e=>z("option",{value:e,className:"text-gray-800",children:e},e))]})]}),B("div",{className:"relative",children:[z(Ar,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),z("input",{type:"date",value:e.date,onChange:r=>t(d(c({},e),{date:r.target.value})),className:"w-full pl-10 pr-4 py-4 bg-white/20 border border-white/30 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-white/50"})]}),B("button",{type:"submit",className:"bg-primary-600 hover:bg-primary-700 text-white font-semibold py-4 px-8 rounded-lg transition-all duration-300 transform hover:scale-105 flex items-center justify-center",children:[z(Gr,{className:"mr-2"}),"Search"]})]})}),B("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-3 gap-8 animate-slide-up",children:[B("div",{className:"text-center",children:[z("div",{className:"text-3xl font-bold text-primary-400",children:"500+"}),z("div",{className:"text-gray-300",children:"Destinations"})]}),B("div",{className:"text-center",children:[z("div",{className:"text-3xl font-bold text-primary-400",children:"10K+"}),z("div",{className:"text-gray-300",children:"Happy Travelers"})]}),B("div",{className:"text-center",children:[z("div",{className:"text-3xl font-bold text-primary-400",children:"24/7"}),z("div",{className:"text-gray-300",children:"Support"})]})]})]})}),z("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce",children:z("div",{className:"w-6 h-10 border-2 border-white rounded-full flex justify-center",children:z("div",{className:"w-1 h-3 bg-white rounded-full mt-2 animate-pulse"})})})]})}function ln(){return z("section",{className:"py-20 bg-white",children:B("div",{className:"container mx-auto px-4",children:[B("div",{className:"text-center mb-16",children:[z("h2",{className:"text-4xl font-extrabold text-gray-900 mb-4 tracking-tight",children:"Top Destinations"}),z("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Top destinations are based on user search volumes."})]}),z("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:[{id:1,name:"Berlin",country:"Germany",tours:200,distance:"366 KM away",image:"https://images.unsplash.com/photo-1560969184-10fe8719e047?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"},{id:2,name:"Zurich",country:"Switzerland",tours:320,distance:"577 KM away",image:"https://images.unsplash.com/photo-1519482816300-1491f717646b?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"},{id:3,name:"New York",country:"USA",tours:58,distance:"327 KM away",image:"https://images.unsplash.com/photo-1496442226666-8d4d0e62e6e9?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"},{id:4,name:"London",country:"UK",tours:406,distance:"271 KM away",image:"https://images.unsplash.com/photo-1513635269975-59663e0ac1ad?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"},{id:5,name:"Agra",country:"India",tours:37,distance:"780 KM away",image:"https://images.unsplash.com/photo-1564507592333-c60657eea523?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"},{id:6,name:"Paris",country:"France",tours:74,distance:"872 KM away",image:"https://images.unsplash.com/photo-1502602898535-0e2e4b5b0b0a?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"}].map(e=>B("div",{className:"relative group rounded-2xl overflow-hidden shadow-xl hover:shadow-2xl transition-all duration-300 cursor-pointer bg-white",children:[B("div",{className:"relative h-72 w-full overflow-hidden",children:[z("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),z("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/10 to-transparent"}),z(Kr,{className:"absolute top-4 right-4 text-white text-2xl opacity-80 drop-shadow-lg"})]}),B("div",{className:"absolute bottom-0 left-0 right-0 p-6 z-10",children:[B("div",{className:"flex items-center justify-between mb-2",children:[z("h3",{className:"text-2xl font-bold text-white drop-shadow-lg",children:e.name}),B("span",{className:"bg-primary-600/90 text-white text-xs font-semibold px-3 py-1 rounded-full shadow",children:[e.tours,"+ Tours"]})]}),B("div",{className:"flex items-center justify-between text-gray-200",children:[z("span",{className:"text-sm font-medium",children:e.country}),B("span",{className:"flex items-center text-xs",children:[z(Vr,{className:"mr-1 text-primary-400"}),e.distance]})]})]}),z("div",{className:"absolute inset-0 bg-primary-600/90 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center z-20",children:B("div",{className:"text-center text-white",children:[z("h3",{className:"text-2xl font-bold mb-2",children:e.name}),z("p",{className:"mb-4",children:e.country}),B("button",{className:"btn-secondary bg-white text-primary-600 hover:bg-gray-100",children:["Explore ",e.tours,"+ Tours"]})]})})]},e.id))}),z("div",{className:"text-center mt-12",children:z("button",{className:"btn-primary text-lg px-8 py-4 shadow-lg hover:shadow-xl",children:"View All Destinations"})})]})})}function on(){return z("section",{className:"py-20 bg-gray-100",children:B("div",{className:"container mx-auto px-4",children:[B("div",{className:"text-center mb-16",children:[z("h2",{className:"text-4xl font-extrabold text-gray-900 mb-4 tracking-tight",children:"Best Seller"}),z("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"The best sellers are based on sales volume."})]}),z("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:[{id:1,title:"Train Tour Skyline",days:10,nights:9,price:895.5,rating:4.9,image:"https://images.unsplash.com/photo-1465101046530-73398c7f28ca?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"},{id:2,title:"Train Tour Skyline",days:10,nights:9,price:895.5,rating:4.9,image:"https://images.unsplash.com/photo-1506744038136-46273834b3fb?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"},{id:3,title:"Train Tour Skyline",days:10,nights:9,price:895.5,rating:4.9,image:"https://images.unsplash.com/photo-1465101178521-c1a9136a3fd9?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"}].map(e=>B("div",{className:"relative group rounded-2xl overflow-hidden shadow-xl hover:shadow-2xl transition-all duration-300 bg-white",children:[B("div",{className:"relative h-64 w-full overflow-hidden",children:[z("img",{src:e.image,alt:e.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),B("div",{className:"absolute top-4 left-4 bg-white/90 text-primary-600 px-3 py-1 rounded-full text-sm font-bold shadow",children:[z(Zr,{className:"inline-block text-yellow-400 mr-1"}),e.rating]})]}),B("div",{className:"p-6",children:[B("div",{className:"flex items-center justify-between mb-2",children:[B("div",{className:"text-lg font-bold text-primary-600",children:[e.days," Days | ",e.nights," Nights"]}),B("div",{className:"text-2xl font-bold text-primary-600",children:["$",e.price]})]}),z("h3",{className:"text-xl font-semibold text-gray-900 mb-2 group-hover:text-primary-600 transition-colors",children:e.title}),z("p",{className:"text-gray-500 mb-4 text-sm",children:"Check Out Daily Deals and Promotion on Hotels. Easy & Fast Booking"}),z("button",{className:"btn-primary w-full text-lg py-3 shadow hover:shadow-lg",children:"Explore"})]})]},e.id))})]})})}function cn(){const[e,t]=f.useState([]),[r,n]=f.useState(!0),[a,i]=f.useState(null);return f.useEffect(()=>{(()=>{u(this,null,function*(){try{n(!0);const e=(yield ir.getTrendingTours(6)).data.map(e=>{var t,r,n,a,i,s,l,o,c;return{id:e.id,title:e.attributes.title_zh||e.attributes.title_en,category:(null==(n=null==(r=null==(t=e.attributes.category)?void 0:t.data)?void 0:r.attributes)?void 0:n.name)||"旅游",location:(null==(s=null==(i=null==(a=e.attributes.destination)?void 0:a.data)?void 0:i.attributes)?void 0:s.name)||"目的地",price:parseFloat(e.attributes.price)||0,rating:4.5,reviews:Math.floor(500*Math.random())+50,duration:`${e.attributes.days||7} 天`,image:(null==(c=null==(o=null==(l=e.attributes.image)?void 0:l.data)?void 0:o.attributes)?void 0:c.url)||"https://images.unsplash.com/photo-1544551763-46a013bb70d5?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",badges:["热门推荐","免费取消"]}});t(e)}catch(e){i("获取数据失败，请稍后重试"),t([{id:1,title:"克罗地亚杜布罗夫尼克全日游",category:"海滩旅游",location:"杜布罗夫尼克",price:895,rating:4.7,reviews:577,duration:"7 天",image:"https://images.unsplash.com/photo-1544551763-46a013bb70d5?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",badges:["EICTrip 推荐","免费取消"]},{id:2,title:"纽约曼哈顿环岛游船",category:"城市观光",location:"纽约",price:795,rating:4.3,reviews:109,duration:"7 天",image:"https://images.unsplash.com/photo-1496442226666-8d4d0e62e6e9?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",badges:["畅销产品","免费取消"]}])}finally{n(!1)}})})()},[]),z("section",r?{className:"py-20 bg-gray-50",children:B("div",{className:"container mx-auto px-4",children:[B("div",{className:"text-center mb-16",children:[z("h2",{className:"text-4xl font-extrabold text-gray-900 mb-4 tracking-tight",children:"热门推荐 2024"}),z("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"基于用户预订的热门旅游产品"})]}),z(wr,{size:"lg",text:"正在加载热门旅游产品..."})]})}:a?{className:"py-20 bg-gray-50",children:B("div",{className:"container mx-auto px-4",children:[B("div",{className:"text-center mb-16",children:[z("h2",{className:"text-4xl font-extrabold text-gray-900 mb-4 tracking-tight",children:"热门推荐 2024"}),z("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"基于用户预订的热门旅游产品"})]}),B("div",{className:"text-center",children:[z("p",{className:"text-red-600 mb-4",children:a}),z("button",{onClick:()=>window.location.reload(),className:"bg-primary-600 text-white px-6 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:"重新加载"})]})]})}:{className:"py-20 bg-gray-50",children:B("div",{className:"container mx-auto px-4",children:[B("div",{className:"text-center mb-16",children:[z("h2",{className:"text-4xl font-extrabold text-gray-900 mb-4 tracking-tight",children:"热门推荐 2024"}),z("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"基于用户预订的热门旅游产品"})]}),z("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(e=>B("div",{className:"relative group rounded-2xl overflow-hidden shadow-xl hover:shadow-2xl transition-all duration-300 bg-white",children:[B("div",{className:"relative h-64 w-full overflow-hidden",children:[z("img",{src:e.image,alt:e.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),e.discount&&B("div",{className:"absolute top-4 left-4 bg-red-500 text-white px-3 py-1 rounded-full text-sm font-semibold shadow-lg",children:["-",e.discount,"% Today"]}),z("button",{className:"absolute top-4 right-4 bg-white/80 hover:bg-white p-2 rounded-full transition-colors shadow",children:z(qr,{className:"text-gray-600 hover:text-red-500"})}),z("div",{className:"absolute bottom-4 left-4 flex flex-wrap gap-2 z-10",children:e.badges.map((e,t)=>z("span",{className:"bg-white/90 text-gray-700 px-2 py-1 rounded text-xs font-medium shadow",children:e},t))})]}),B("div",{className:"p-6",children:[z("h3",{className:"text-xl font-semibold text-gray-900 mb-2 line-clamp-2 group-hover:text-primary-600 transition-colors",children:e.title}),B("div",{className:"flex items-center text-gray-600 mb-3",children:[z(Vr,{className:"mr-1 text-primary-500"}),B("span",{className:"text-sm",children:[e.category," | ",e.location]})]}),B("div",{className:"flex items-center mb-4",children:[B("div",{className:"flex items-center mr-2",children:[z(Zr,{className:"text-yellow-400 mr-1"}),z("span",{className:"font-semibold",children:e.rating})]}),B("span",{className:"text-gray-500 text-sm",children:["(",e.reviews,")"]}),B("div",{className:"flex items-center ml-auto",children:[z(zr,{className:"text-gray-400 mr-1"}),z("span",{className:"text-sm text-gray-600",children:e.duration})]})]}),B("div",{className:"flex items-center justify-between",children:[B("div",{children:[z("span",{className:"text-sm text-gray-500",children:"from"}),B("span",{className:"text-2xl font-bold text-primary-600 ml-1",children:["$",e.price]})]}),z("button",{className:"btn-primary text-sm py-2 px-4 shadow hover:shadow-lg",children:"Explore"})]})]})]},e.id))}),z("div",{className:"text-center mt-12",children:z("button",{className:"btn-secondary text-lg px-8 py-4 shadow hover:shadow-lg",children:"View All Trending Tours"})})]})})}function dn(){return z("section",{className:"py-20 bg-white",children:B("div",{className:"container mx-auto px-4",children:[B("div",{className:"text-center mb-16",children:[z("h2",{className:"text-4xl font-extrabold text-gray-900 mb-4 tracking-tight",children:"Our Tour Guides"}),z("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Meet our experienced and passionate travel guides who will make your journey unforgettable."})]}),z("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:[{id:1,name:"Sarah Johnson",specialty:"Adventure Tours",location:"New York, USA",rating:4.9,reviews:127,image:"https://images.unsplash.com/photo-1494790108755-2616b612b786?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80",experience:"5+ years",languages:["English","Spanish"]},{id:2,name:"Michael Chen",specialty:"Cultural Tours",location:"Tokyo, Japan",rating:4.8,reviews:89,image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80",experience:"8+ years",languages:["English","Japanese","Mandarin"]},{id:3,name:"Emma Rodriguez",specialty:"Food & Wine Tours",location:"Barcelona, Spain",rating:4.9,reviews:156,image:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80",experience:"6+ years",languages:["English","Spanish","Catalan"]},{id:4,name:"David Kim",specialty:"Photography Tours",location:"Seoul, South Korea",rating:4.7,reviews:73,image:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80",experience:"4+ years",languages:["English","Korean"]}].map(e=>B("div",{className:"group bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden border border-gray-100",children:[B("div",{className:"relative p-6 pb-0",children:[z("div",{className:"relative mx-auto w-24 h-24 rounded-full overflow-hidden border-4 border-white shadow-lg",children:z("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})}),B("div",{className:"absolute top-2 right-2 bg-primary-600 text-white px-2 py-1 rounded-full text-xs font-bold",children:[z(Zr,{className:"inline-block mr-1"}),e.rating]})]}),B("div",{className:"p-6 pt-4",children:[z("h3",{className:"text-xl font-bold text-gray-900 mb-1 group-hover:text-primary-600 transition-colors",children:e.name}),z("p",{className:"text-primary-600 font-semibold mb-2",children:e.specialty}),B("div",{className:"flex items-center text-gray-500 text-sm mb-3",children:[z(Vr,{className:"mr-2 text-primary-500"}),e.location]}),B("div",{className:"flex items-center justify-between mb-4",children:[B("span",{className:"text-sm text-gray-600",children:[e.experience," experience"]}),B("span",{className:"text-sm text-gray-500",children:[e.reviews," reviews"]})]}),B("div",{className:"flex items-center mb-4",children:[z(Ur,{className:"text-primary-500 mr-2"}),z("div",{className:"flex flex-wrap gap-1",children:e.languages.map((e,t)=>z("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 rounded-full text-xs",children:e},t))})]}),z("button",{className:"w-full bg-primary-600 text-white py-2 px-4 rounded-lg font-semibold hover:bg-primary-700 transition-colors duration-200",children:"Contact Guide"})]})]},e.id))}),z("div",{className:"text-center mt-12",children:z("button",{className:"btn-secondary text-lg px-8 py-3",children:"View All Guides"})})]})})}function un(){return B("main",{className:"bg-white min-h-screen",children:[z("section",{id:"hero",children:z(sn,{})}),z("section",{id:"top-destinations",children:z(ln,{})}),z("section",{id:"best-seller",children:z(on,{})}),z("section",{id:"trending-tours",children:z(cn,{})}),z("section",{id:"tour-guides",children:z(dn,{})})]})}function mn(){return B("div",{className:"about-page",children:[z("h1",{children:"About EICTrip"}),z("p",{children:"Welcome to EICTrip, your premier travel companion for unforgettable adventures."})]})}function hn(){return B("div",{className:"contact-page",children:[z("h1",{children:"Contact Us"}),z("p",{children:"Get in touch with us for any questions or support."})]})}function pn(){var e,t;const[r,n]=f.useState({identifier:"",password:""}),[a,i]=f.useState(!1),[s,l]=f.useState(!1),[o,m]=f.useState(""),{login:h}=br(),p=N(),g=(null==(t=null==(e=b().state)?void 0:e.from)?void 0:t.pathname)||"/",y=e=>{n(d(c({},r),{[e.target.name]:e.target.value})),o&&m("")};return B("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[z("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:B("div",{className:"text-center",children:[z("h2",{className:"text-3xl font-extrabold text-gray-900",children:"登录您的账户"}),B("p",{className:"mt-2 text-sm text-gray-600",children:["或者"," ",z(w,{to:"/register",className:"font-medium text-primary-600 hover:text-primary-500",children:"注册新账户"})]})]})}),z("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:B("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[B("form",{className:"space-y-6",onSubmit:e=>u(this,null,function*(){if(e.preventDefault(),r.identifier&&r.password)try{l(!0),m(""),yield h(r.identifier,r.password),p(g,{replace:!0})}catch(t){m(t.message||"登录失败，请检查您的凭据")}finally{l(!1)}else m("请填写所有必填字段")}),children:[o&&z("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md",children:o}),B("div",{children:[z("label",{htmlFor:"identifier",className:"block text-sm font-medium text-gray-700",children:"邮箱或用户名"}),B("div",{className:"mt-1 relative",children:[z("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:z(_r,{className:"h-5 w-5 text-gray-400"})}),z("input",{id:"identifier",name:"identifier",type:"text",autoComplete:"email",required:!0,value:r.identifier,onChange:y,className:"appearance-none block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"请输入邮箱或用户名"})]})]}),B("div",{children:[z("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"密码"}),B("div",{className:"mt-1 relative",children:[z("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:z($r,{className:"h-5 w-5 text-gray-400"})}),z("input",{id:"password",name:"password",type:a?"text":"password",autoComplete:"current-password",required:!0,value:r.password,onChange:y,className:"appearance-none block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"请输入密码"}),z("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:z("button",{type:"button",onClick:()=>i(!a),className:"text-gray-400 hover:text-gray-600",children:z(a?Mr:Ir,{className:"h-5 w-5"})})})]})]}),B("div",{className:"flex items-center justify-between",children:[B("div",{className:"flex items-center",children:[z("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),z("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"记住我"})]}),z("div",{className:"text-sm",children:z(w,{to:"/forgot-password",className:"font-medium text-primary-600 hover:text-primary-500",children:"忘记密码？"})})]}),z("div",{children:z("button",{type:"submit",disabled:s,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"登录中...":"登录"})})]}),B("div",{className:"mt-6",children:[B("div",{className:"relative",children:[z("div",{className:"absolute inset-0 flex items-center",children:z("div",{className:"w-full border-t border-gray-300"})}),z("div",{className:"relative flex justify-center text-sm",children:z("span",{className:"px-2 bg-white text-gray-500",children:"或者使用"})})]}),B("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[B("button",{type:"button",className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[z("span",{className:"sr-only",children:"使用微信登录"}),z("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:z("path",{d:"M10 0C4.477 0 0 3.582 0 8c0 3.535 2.286 6.533 5.476 7.59-.15.275-.476 1.003-.476 1.003s1.179.537 2.524.537c4.477 0 8.476-3.582 8.476-8S14.477 0 10 0z"})})]}),B("button",{type:"button",className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[z("span",{className:"sr-only",children:"使用QQ登录"}),z("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:z("path",{d:"M10 0C4.477 0 0 4.477 0 10s4.477 10 10 10 10-4.477 10-10S15.523 0 10 0zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"})})]})]})]})]})})]})}function fn(){const[e,t]=f.useState({username:"",email:"",password:"",passwordConfirmation:"",phone:"",firstName:"",lastName:""}),[r,n]=f.useState(!1),[a,i]=f.useState(!1),[s,l]=f.useState(!1),[o,m]=f.useState(""),[h,p]=f.useState(!1),{register:g}=br(),y=N(),x=r=>{t(d(c({},e),{[r.target.name]:r.target.value})),o&&m("")};return B("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[z("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:B("div",{className:"text-center",children:[z("h2",{className:"text-3xl font-extrabold text-gray-900",children:"创建新账户"}),B("p",{className:"mt-2 text-sm text-gray-600",children:["或者"," ",z(w,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"登录现有账户"})]})]})}),z("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:B("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[B("form",{className:"space-y-6",onSubmit:t=>u(this,null,function*(){if(t.preventDefault(),e.username&&e.email&&e.password&&e.passwordConfirmation?e.password!==e.passwordConfirmation?(m("两次输入的密码不一致"),0):e.password.length<6?(m("密码长度至少为6位"),0):h||(m("请同意用户协议和隐私政策"),0):(m("请填写所有必填字段"),0))try{l(!0),m("");const t={username:e.username,email:e.email,password:e.password,phone:e.phone,firstName:e.firstName,lastName:e.lastName};yield g(t),y("/",{replace:!0})}catch(r){m(r.message||"注册失败，请稍后重试")}finally{l(!1)}}),children:[o&&z("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md",children:o}),B("div",{className:"grid grid-cols-2 gap-4",children:[B("div",{children:[z("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700",children:"名"}),B("div",{className:"mt-1 relative",children:[z("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:z(an,{className:"h-5 w-5 text-gray-400"})}),z("input",{id:"firstName",name:"firstName",type:"text",autoComplete:"given-name",value:e.firstName,onChange:x,className:"appearance-none block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"名"})]})]}),B("div",{children:[z("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:"姓"}),B("div",{className:"mt-1 relative",children:[z("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:z(an,{className:"h-5 w-5 text-gray-400"})}),z("input",{id:"lastName",name:"lastName",type:"text",autoComplete:"family-name",value:e.lastName,onChange:x,className:"appearance-none block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"姓"})]})]})]}),B("div",{children:[z("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"用户名 *"}),B("div",{className:"mt-1 relative",children:[z("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:z(an,{className:"h-5 w-5 text-gray-400"})}),z("input",{id:"username",name:"username",type:"text",autoComplete:"username",required:!0,value:e.username,onChange:x,className:"appearance-none block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"请输入用户名"})]})]}),B("div",{children:[z("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"邮箱地址 *"}),B("div",{className:"mt-1 relative",children:[z("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:z(_r,{className:"h-5 w-5 text-gray-400"})}),z("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e.email,onChange:x,className:"appearance-none block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"请输入邮箱地址"})]})]}),B("div",{children:[z("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"手机号码"}),B("div",{className:"mt-1 relative",children:[z("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:z(Wr,{className:"h-5 w-5 text-gray-400"})}),z("input",{id:"phone",name:"phone",type:"tel",autoComplete:"tel",value:e.phone,onChange:x,className:"appearance-none block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"请输入手机号码"})]})]}),B("div",{children:[z("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"密码 *"}),B("div",{className:"mt-1 relative",children:[z("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:z($r,{className:"h-5 w-5 text-gray-400"})}),z("input",{id:"password",name:"password",type:r?"text":"password",autoComplete:"new-password",required:!0,value:e.password,onChange:x,className:"appearance-none block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"请输入密码（至少6位）"}),z("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:z("button",{type:"button",onClick:()=>n(!r),className:"text-gray-400 hover:text-gray-600",children:z(r?Mr:Ir,{className:"h-5 w-5"})})})]})]}),B("div",{children:[z("label",{htmlFor:"passwordConfirmation",className:"block text-sm font-medium text-gray-700",children:"确认密码 *"}),B("div",{className:"mt-1 relative",children:[z("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:z($r,{className:"h-5 w-5 text-gray-400"})}),z("input",{id:"passwordConfirmation",name:"passwordConfirmation",type:a?"text":"password",autoComplete:"new-password",required:!0,value:e.passwordConfirmation,onChange:x,className:"appearance-none block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"请再次输入密码"}),z("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:z("button",{type:"button",onClick:()=>i(!a),className:"text-gray-400 hover:text-gray-600",children:z(a?Mr:Ir,{className:"h-5 w-5"})})})]})]}),B("div",{className:"flex items-center",children:[z("input",{id:"agree-terms",name:"agree-terms",type:"checkbox",checked:h,onChange:e=>p(e.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),B("label",{htmlFor:"agree-terms",className:"ml-2 block text-sm text-gray-900",children:["我同意"," ",z(w,{to:"/terms",className:"font-medium text-primary-600 hover:text-primary-500",children:"用户协议"})," ","和"," ",z(w,{to:"/privacy",className:"font-medium text-primary-600 hover:text-primary-500",children:"隐私政策"})]})]}),z("div",{children:z("button",{type:"submit",disabled:s,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"注册中...":"注册"})})]}),B("div",{className:"mt-6",children:[B("div",{className:"relative",children:[z("div",{className:"absolute inset-0 flex items-center",children:z("div",{className:"w-full border-t border-gray-300"})}),z("div",{className:"relative flex justify-center text-sm",children:z("span",{className:"px-2 bg-white text-gray-500",children:"或者使用"})})]}),B("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[B("button",{type:"button",className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[z("span",{className:"sr-only",children:"使用微信注册"}),z("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:z("path",{d:"M10 0C4.477 0 0 3.582 0 8c0 3.535 2.286 6.533 5.476 7.59-.15.275-.476 1.003-.476 1.003s1.179.537 2.524.537c4.477 0 8.476-3.582 8.476-8S14.477 0 10 0z"})})]}),B("button",{type:"button",className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[z("span",{className:"sr-only",children:"使用QQ注册"}),z("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:z("path",{d:"M10 0C4.477 0 0 4.477 0 10s4.477 10 10 10 10-4.477 10-10S15.523 0 10 0zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"})})]})]})]})]})})]})}function gn(){return B("div",{className:"routes-page",children:[z("h1",{children:"Our Routes"}),z("p",{children:"Discover amazing travel routes and destinations."})]})}function yn(){const{id:e}=S();return B("div",{className:"route-detail-page",children:[z("h1",{children:"Route Details"}),B("p",{children:["Route ID: ",e]})]})}function xn(){const[e,t]=f.useState([]),[r,n]=f.useState(!0),[a,i]=f.useState(null),[s,l]=f.useState("all"),{user:o}=br();f.useEffect(()=>{const e=()=>u(this,null,function*(){try{n(!0);const e=yield lr.getUserOrders({populate:"*",filters:{user:null==o?void 0:o.id},sort:"createdAt:desc"});t(e.data||[])}catch(e){i("获取订单失败")}finally{n(!1)}});(null==o?void 0:o.id)&&e()},[null==o?void 0:o.id]);const c=e.filter(e=>{const t=e.attributes.status;return"all"===s||("pending"===s?"pending"===t:"paid"===s?"paid"===t:"completed"===s?"completed"===t:"cancelled"!==s||"cancelled"===t)}),d=e=>{const t={pending:{text:"待支付",class:"bg-yellow-100 text-yellow-800"},paid:{text:"已支付",class:"bg-green-100 text-green-800"},completed:{text:"已完成",class:"bg-blue-100 text-blue-800"},cancelled:{text:"已取消",class:"bg-red-100 text-red-800"}}[e]||{text:e,class:"bg-gray-100 text-gray-800"};return z("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t.class}`,children:t.text})};return z("div",r?{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:z(wr,{size:"lg",text:"正在加载订单..."})}:{className:"min-h-screen bg-gray-50 py-12",children:B("div",{className:"container mx-auto px-4",children:[B("div",{className:"text-center mb-8",children:[z("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"我的订单"}),z("p",{className:"text-gray-600",children:"查看您的旅游订单和预订记录"})]}),a&&z("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md mb-6",children:a}),z("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:z("div",{className:"flex flex-wrap gap-2",children:[{key:"all",label:"全部",count:e.length},{key:"pending",label:"待支付",count:e.filter(e=>"pending"===e.attributes.status).length},{key:"paid",label:"已支付",count:e.filter(e=>"paid"===e.attributes.status).length},{key:"completed",label:"已完成",count:e.filter(e=>"completed"===e.attributes.status).length},{key:"cancelled",label:"已取消",count:e.filter(e=>"cancelled"===e.attributes.status).length}].map(e=>B("button",{onClick:()=>l(e.key),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors "+(s===e.key?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[e.label," (",e.count,")"]},e.key))})}),0===c.length?B("div",{className:"text-center py-12",children:[z("div",{className:"text-gray-400 text-6xl mb-4",children:"📋"}),z("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"暂无订单"}),z("p",{className:"text-gray-600 mb-6",children:"您还没有任何订单记录"}),z(w,{to:"/",className:"bg-primary-600 text-white px-6 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:"开始预订"})]}):z("div",{className:"space-y-6",children:c.map(e=>{var t,r,n,a,i,s,l,o,c,u,m,h;return B("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[z("div",{className:"p-6 border-b border-gray-200",children:B("div",{className:"flex justify-between items-start",children:[B("div",{children:[z("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:(null==(n=null==(r=null==(t=e.attributes.tour)?void 0:t.data)?void 0:r.attributes)?void 0:n.title_zh)||(null==(s=null==(i=null==(a=e.attributes.tour)?void 0:a.data)?void 0:i.attributes)?void 0:s.title_en)||"旅游产品"}),B("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[B("span",{className:"flex items-center",children:[z(Ar,{className:"mr-1"}),new Date(e.attributes.travelDate||e.attributes.createdAt).toLocaleDateString("zh-CN")]}),B("span",{className:"flex items-center",children:[z(Vr,{className:"mr-1"}),(null==(h=null==(m=null==(u=null==(c=null==(o=null==(l=e.attributes.tour)?void 0:l.data)?void 0:o.attributes)?void 0:c.destination)?void 0:u.data)?void 0:m.attributes)?void 0:h.name)||"目的地"]})]})]}),B("div",{className:"text-right",children:[d(e.attributes.status),B("div",{className:"text-2xl font-bold text-primary-600 mt-2",children:["¥",e.attributes.totalAmount||e.attributes.price]})]})]})}),B("div",{className:"p-6",children:[B("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[B("div",{children:[z("span",{className:"text-sm text-gray-600",children:"订单号"}),z("p",{className:"font-medium",children:e.id})]}),B("div",{children:[z("span",{className:"text-sm text-gray-600",children:"人数"}),B("p",{className:"font-medium",children:[e.attributes.quantity||1," 人"]})]}),B("div",{children:[z("span",{className:"text-sm text-gray-600",children:"创建时间"}),z("p",{className:"font-medium",children:new Date(e.attributes.createdAt).toLocaleString("zh-CN")})]})]}),B("div",{className:"flex flex-wrap gap-3",children:[B(w,{to:`/orders/${e.id}`,className:"flex items-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[z(Ir,{className:"mr-2"}),"查看详情"]}),"pending"===e.attributes.status&&B(w,{to:`/payment/${e.id}`,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[z(Lr,{className:"mr-2"}),"立即支付"]}),"completed"===e.attributes.status&&!e.attributes.review&&B("button",{className:"flex items-center px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors",children:[z(Zr,{className:"mr-2"}),"评价订单"]})]})]})]},e.id)})})]})})}function bn({orderData:e,onGuideSelect:t}){const[r,n]=f.useState([]),[a,i]=f.useState(!0),[s,l]=f.useState(null),[o,m]=f.useState(null),[h,p]=f.useState({language:"",rating:0,priceRange:"all"});br(),f.useEffect(()=>{e&&(()=>{u(this,null,function*(){try{i(!0);const t=yield sr(e,{populate:"*",sort:"rating:desc"});n(t.data||[])}catch(t){l("获取导游推荐失败")}finally{i(!1)}})})()},[e]);const g=r.filter(e=>{var t;const r=e.attributes;if(h.language&&!(null==(t=r.languages)?void 0:t.includes(h.language)))return!1;if(h.rating>0&&r.rating<h.rating)return!1;if("all"!==h.priceRange){const e=r.hourlyRate||0;switch(h.priceRange){case"low":if(e>100)return!1;break;case"medium":if(e<100||e>200)return!1;break;case"high":if(e<200)return!1}}return!0});return a?z("div",{className:"flex items-center justify-center py-12",children:z(wr,{size:"lg",text:"正在为您匹配导游..."})}):B("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[B("div",{className:"mb-6",children:[z("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"导游匹配"}),z("p",{className:"text-gray-600",children:"根据您的需求，我们为您推荐了以下专业导游"})]}),s&&z("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md mb-6",children:s}),B("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[z("h3",{className:"font-semibold text-gray-900 mb-3",children:"筛选条件"}),B("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[B("div",{children:[z("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"语言"}),B("select",{value:h.language,onChange:e=>p(d(c({},h),{language:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",children:[z("option",{value:"",children:"全部语言"}),z("option",{value:"中文",children:"中文"}),z("option",{value:"English",children:"English"}),z("option",{value:"日本語",children:"日本語"}),z("option",{value:"한국어",children:"한국어"})]})]}),B("div",{children:[z("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"最低评分"}),B("select",{value:h.rating,onChange:e=>p(d(c({},h),{rating:Number(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",children:[z("option",{value:0,children:"全部评分"}),z("option",{value:4,children:"4星以上"}),z("option",{value:4.5,children:"4.5星以上"}),z("option",{value:5,children:"5星"})]})]}),B("div",{children:[z("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"价格范围"}),B("select",{value:h.priceRange,onChange:e=>p(d(c({},h),{priceRange:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",children:[z("option",{value:"all",children:"全部价格"}),z("option",{value:"low",children:"¥100以下/小时"}),z("option",{value:"medium",children:"¥100-200/小时"}),z("option",{value:"high",children:"¥200以上/小时"})]})]})]})]}),0===g.length?B("div",{className:"text-center py-12",children:[z("div",{className:"text-gray-400 text-6xl mb-4",children:"👥"}),z("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"暂无匹配导游"}),z("p",{className:"text-gray-600 mb-6",children:"请尝试调整筛选条件或联系客服获取帮助"})]}):z("div",{className:"space-y-4",children:g.map(e=>{var r,n,a,i,s,l;return z("div",{className:"border rounded-lg p-4 cursor-pointer transition-all "+((null==o?void 0:o.id)===e.id?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-primary-300 hover:bg-gray-50"),onClick:()=>(e=>{m(e),t&&t(e)})(e),children:B("div",{className:"flex items-start space-x-4",children:[z("div",{className:"flex-shrink-0",children:z("img",{src:(null==(a=null==(n=null==(r=e.attributes.avatar)?void 0:r.data)?void 0:n.attributes)?void 0:a.url)||"https://via.placeholder.com/80x80",alt:e.attributes.name,className:"w-20 h-20 rounded-full object-cover"})}),B("div",{className:"flex-1 min-w-0",children:[B("div",{className:"flex items-center justify-between mb-2",children:[z("h3",{className:"text-lg font-semibold text-gray-900",children:e.attributes.name}),(null==o?void 0:o.id)===e.id&&z(Pr,{className:"text-primary-600 text-xl"})]}),B("div",{className:"flex items-center space-x-4 mb-3",children:[(l=e.attributes.rating||0,B("div",{className:"flex items-center",children:[[...Array(5)].map((e,t)=>z(Zr,{className:"w-4 h-4 "+(t<Math.floor(l)?"text-yellow-400":"text-gray-300")},t)),B("span",{className:"ml-2 text-sm text-gray-600",children:["(",l,")"]})]})),B("span",{className:"flex items-center text-sm text-gray-600",children:[z(Vr,{className:"mr-1"}),e.attributes.location||"未知地点"]}),B("span",{className:"flex items-center text-sm text-gray-600",children:[z(an,{className:"mr-1"}),e.attributes.experience||0,"年经验"]})]}),B("div",{className:"mb-3",children:[B("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-2",children:[B("span",{className:"flex items-center",children:[z(Hr,{className:"mr-1"}),"语言: ",(null==(i=e.attributes.languages)?void 0:i.join(", "))||"中文"]}),B("span",{className:"flex items-center",children:[z(zr,{className:"mr-1"}),"¥",e.attributes.hourlyRate||0,"/小时"]})]}),B("p",{className:"text-sm text-gray-600",children:["专长: ",(null==(s=e.attributes.specialties)?void 0:s.join(", "))||"暂无专长信息"]})]}),z("p",{className:"text-sm text-gray-700 line-clamp-2",children:e.attributes.description||"暂无简介"})]})]})},e.id)})}),o&&z("div",{className:"mt-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:B("div",{className:"flex items-center",children:[z(Pr,{className:"text-green-600 mr-2"}),B("span",{className:"text-green-800",children:["已选择导游: ",o.attributes.name]})]})})]})}function vn({entityType:e,entityId:t,onSuccess:r,onCancel:n}){const[a,i]=f.useState({rating:0,title:"",content:"",pros:"",cons:"",overallExperience:"positive"}),[s,l]=f.useState(!1),[o,m]=f.useState(null),h=e=>{const{name:t,value:r}=e.target;i(e=>d(c({},e),{[t]:r}))};return B("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[B("div",{className:"mb-6",children:[z("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"写评价"}),z("p",{className:"text-gray-600",children:"分享您的体验，帮助其他用户做出更好的选择"})]}),B("form",{onSubmit:n=>u(this,null,function*(){if(n.preventDefault(),0!==a.rating)if(a.title.trim()&&a.content.trim())try{l(!0),m(null);const n={data:{entityType:e,entityId:t,rating:a.rating,title:a.title,content:a.content,pros:a.pros,cons:a.cons,overallExperience:a.overallExperience}};yield dr(n),r&&r()}catch(i){m("提交评价失败，请重试")}finally{l(!1)}else m("请填写标题和评价内容");else m("请选择评分")}),className:"space-y-6",children:[o&&z("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md",children:o}),B("div",{children:[z("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"总体评分 *"}),B("div",{className:"flex items-center space-x-1",children:[[1,2,3,4,5].map(e=>z("button",{type:"button",onClick:()=>{return t=e,void i(e=>d(c({},e),{rating:t}));var t},className:"focus:outline-none",children:z(Zr,{className:`w-8 h-8 transition-colors ${e<=a.rating?"text-yellow-400":"text-gray-300"} hover:text-yellow-400`})},e)),z("span",{className:"ml-3 text-sm text-gray-600",children:a.rating>0?`${a.rating}星`:"请选择评分"})]})]}),B("div",{children:[z("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"整体体验"}),z("div",{className:"flex items-center space-x-6",children:[{value:"positive",icon:Qr,label:"满意",color:"text-green-500"},{value:"neutral",icon:Jr,label:"一般",color:"text-yellow-500"},{value:"negative",icon:Dr,label:"不满意",color:"text-red-500"}].map(e=>{const t=e.icon;return B("button",{type:"button",onClick:()=>{return t=e.value,void i(e=>d(c({},e),{overallExperience:t}));var t},className:"flex items-center space-x-2 px-4 py-2 rounded-lg border transition-colors "+(a.overallExperience===e.value?"border-primary-500 bg-primary-50":"border-gray-300 hover:border-primary-300"),children:[z(t,{className:`w-5 h-5 ${e.color}`}),z("span",{className:"text-sm font-medium text-gray-700",children:e.label})]},e.value)})})]}),B("div",{children:[z("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"评价标题 *"}),z("input",{type:"text",name:"title",value:a.title,onChange:h,placeholder:"用一句话总结您的体验",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",maxLength:100})]}),B("div",{children:[z("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"详细评价 *"}),z("textarea",{name:"content",value:a.content,onChange:h,placeholder:"详细描述您的体验，包括服务、景点、导游等方面的感受",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",maxLength:1e3}),B("div",{className:"text-xs text-gray-500 mt-1",children:[a.content.length,"/1000"]})]}),B("div",{children:[z("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"优点"}),z("textarea",{name:"pros",value:a.pros,onChange:h,placeholder:"这次体验中您觉得好的地方",rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",maxLength:300})]}),B("div",{children:[z("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"需要改进的地方"}),z("textarea",{name:"cons",value:a.cons,onChange:h,placeholder:"这次体验中可以改进的地方",rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",maxLength:300})]}),B("div",{className:"flex items-center justify-end space-x-4 pt-4",children:[z("button",{type:"button",onClick:n,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:"取消"}),z("button",{type:"submit",disabled:s,className:"px-6 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:s?B(P,{children:[z("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"提交中..."]}):"提交评价"})]})]})]})}function Nn({entityType:e,entityId:t,showAddButton:r=!1,onAddReview:n}){var a;const[i,s]=f.useState([]),[l,o]=f.useState(!0),[c,d]=f.useState(null),[m,h]=f.useState(null),[p,g]=f.useState("all"),[y,x]=f.useState("date");f.useEffect(()=>{e&&t&&(()=>{u(this,null,function*(){try{o(!0);const r=yield cr({filters:{entityType:e,entityId:t},populate:"user",sort:"date"===y?"createdAt:desc":"rating:desc"}),n=yield ur(e,t);s(r.data||[]),h(n.data)}catch(r){d("获取评价失败")}finally{o(!1)}})})()},[e,t,y]);const b=i.filter(e=>"all"===p||e.attributes.overallExperience===p),v=e=>B("div",{className:"flex items-center",children:[[...Array(5)].map((t,r)=>z(Zr,{className:"w-4 h-4 "+(r<Math.floor(e)?"text-yellow-400":"text-gray-300")},r)),B("span",{className:"ml-2 text-sm text-gray-600",children:["(",e,")"]})]}),N=e=>{const t={positive:{text:"满意",class:"bg-green-100 text-green-800"},neutral:{text:"一般",class:"bg-yellow-100 text-yellow-800"},negative:{text:"不满意",class:"bg-red-100 text-red-800"}},{text:r,class:n}=t[e]||t.neutral;return z("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${n}`,children:r})};return l?z("div",{className:"flex items-center justify-center py-12",children:z(wr,{size:"lg",text:"正在加载评价..."})}):B("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[B("div",{className:"mb-6",children:[B("div",{className:"flex items-center justify-between mb-4",children:[z("h2",{className:"text-2xl font-bold text-gray-900",children:"用户评价"}),r&&z("button",{onClick:n,className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",children:"写评价"})]}),m&&z("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:B("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[B("div",{className:"text-center",children:[z("div",{className:"text-2xl font-bold text-primary-600",children:(null==(a=m.averageRating)?void 0:a.toFixed(1))||"0.0"}),z("div",{className:"text-sm text-gray-600",children:"平均评分"}),v(m.averageRating||0)]}),B("div",{className:"text-center",children:[z("div",{className:"text-2xl font-bold text-gray-900",children:m.totalReviews||0}),z("div",{className:"text-sm text-gray-600",children:"总评价数"})]}),B("div",{className:"text-center",children:[B("div",{className:"text-2xl font-bold text-green-600",children:[m.positivePercentage||0,"%"]}),z("div",{className:"text-sm text-gray-600",children:"满意率"})]}),B("div",{className:"text-center",children:[z("div",{className:"text-2xl font-bold text-gray-900",children:m.recentReviews||0}),z("div",{className:"text-sm text-gray-600",children:"近期评价"})]})]})})]}),c&&z("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md mb-6",children:c}),B("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[B("div",{className:"flex items-center space-x-4",children:[z("span",{className:"text-sm font-medium text-gray-700",children:"筛选:"}),[{key:"all",label:"全部"},{key:"positive",label:"满意"},{key:"neutral",label:"一般"},{key:"negative",label:"不满意"}].map(e=>z("button",{onClick:()=>g(e.key),className:"px-3 py-1 rounded-md text-sm font-medium transition-colors "+(p===e.key?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:e.label},e.key))]}),B("div",{className:"flex items-center space-x-2",children:[z("span",{className:"text-sm font-medium text-gray-700",children:"排序:"}),B("select",{value:y,onChange:e=>x(e.target.value),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[z("option",{value:"date",children:"按时间"}),z("option",{value:"rating",children:"按评分"})]})]})]}),0===b.length?B("div",{className:"text-center py-12",children:[z("div",{className:"text-gray-400 text-6xl mb-4",children:"💬"}),z("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"暂无评价"}),z("p",{className:"text-gray-600 mb-6",children:r?"成为第一个评价的用户吧！":"还没有用户评价"}),r&&z("button",{onClick:n,className:"px-6 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",children:"写评价"})]}):z("div",{className:"space-y-6",children:b.map(e=>{var t,r,n;return B("div",{className:"border-b border-gray-200 pb-6 last:border-b-0",children:[B("div",{className:"flex items-start justify-between mb-3",children:[B("div",{className:"flex items-center space-x-3",children:[z("div",{className:"w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center",children:z(an,{className:"text-gray-600"})}),B("div",{children:[z("div",{className:"font-medium text-gray-900",children:(null==(n=null==(r=null==(t=e.attributes.user)?void 0:t.data)?void 0:r.attributes)?void 0:n.username)||"匿名用户"}),B("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[z(Ar,{className:"w-3 h-3"}),z("span",{children:new Date(e.attributes.createdAt).toLocaleDateString("zh-CN")})]})]})]}),B("div",{className:"flex items-center space-x-2",children:[N(e.attributes.overallExperience),v(e.attributes.rating)]})]}),z("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e.attributes.title}),z("p",{className:"text-gray-700 mb-4 leading-relaxed",children:e.attributes.content}),(e.attributes.pros||e.attributes.cons)&&B("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.attributes.pros&&B("div",{className:"bg-green-50 rounded-lg p-3",children:[B("div",{className:"flex items-center mb-2",children:[z(tn,{className:"text-green-600 mr-2"}),z("span",{className:"font-medium text-green-800",children:"优点"})]}),z("p",{className:"text-sm text-green-700",children:e.attributes.pros})]}),e.attributes.cons&&B("div",{className:"bg-red-50 rounded-lg p-3",children:[B("div",{className:"flex items-center mb-2",children:[z(en,{className:"text-red-600 mr-2"}),z("span",{className:"font-medium text-red-800",children:"需要改进"})]}),z("p",{className:"text-sm text-red-700",children:e.attributes.cons})]})]})]},e.id)})})]})}function wn(){var e,t,r,n,a,i,s,l,o,c,d;const{id:m}=S(),h=N();br();const[p,g]=f.useState(null),[y,x]=f.useState(null),[b,v]=f.useState(!0),[w,C]=f.useState(null),[E,k]=f.useState(!1),[O,j]=f.useState(!1),[R,T]=f.useState(null);return f.useEffect(()=>{m&&(()=>{u(this,null,function*(){var e,t;try{v(!0);const r=(yield lr.getOrderById(m,{populate:"*"})).data;if(null==(t=null==(e=r.attributes.tour)?void 0:e.data)?void 0:t.id){const e=yield ir.getTourById(r.attributes.tour.data.id,{populate:"*"});x(e.data)}g(r)}catch(r){C("获取订单信息失败")}finally{v(!1)}})})()},[m]),z("div",b?{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:z(wr,{size:"lg",text:"正在加载订单详情..."})}:w?{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:B("div",{className:"text-center",children:[z("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"加载失败"}),z("p",{className:"text-gray-600 mb-6",children:w}),z("button",{onClick:()=>h(-1),className:"bg-primary-600 text-white px-6 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:"返回上一页"})]})}:p?{className:"min-h-screen bg-gray-50 py-12",children:B("div",{className:"container mx-auto px-4",children:[z("div",{className:"mb-8",children:B("button",{onClick:()=>h(-1),className:"flex items-center text-gray-600 hover:text-primary-600 transition-colors",children:[z(jr,{className:"mr-2"}),"返回"]})}),B("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[B("div",{className:"lg:col-span-2 space-y-6",children:[B("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[B("div",{className:"flex items-center justify-between mb-4",children:[z("h1",{className:"text-2xl font-bold text-gray-900",children:"订单详情"}),(e=>{const t={pending:{text:"待支付",class:"bg-yellow-100 text-yellow-800"},paid:{text:"已支付",class:"bg-green-100 text-green-800"},completed:{text:"已完成",class:"bg-blue-100 text-blue-800"},cancelled:{text:"已取消",class:"bg-red-100 text-red-800"}}[e]||{text:e,class:"bg-gray-100 text-gray-800"};return z("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${t.class}`,children:t.text})})(p.attributes.status)]}),y&&z("div",{className:"border-b border-gray-200 pb-4 mb-4",children:B("div",{className:"flex items-center space-x-4",children:[z("img",{src:(null==(r=null==(t=null==(e=y.attributes.image)?void 0:e.data)?void 0:t.attributes)?void 0:r.url)||"https://via.placeholder.com/120x80",alt:y.attributes.title_zh||y.attributes.title_en,className:"w-30 h-20 object-cover rounded-lg"}),B("div",{children:[z("h3",{className:"text-lg font-semibold text-gray-900",children:y.attributes.title_zh||y.attributes.title_en}),z("p",{className:"text-sm text-gray-600",children:(null==(i=null==(a=null==(n=y.attributes.destination)?void 0:n.data)?void 0:a.attributes)?void 0:i.name)||"目的地"})]})]})}),B("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[B("div",{children:[z("span",{className:"text-sm text-gray-600",children:"订单号"}),z("p",{className:"font-medium",children:p.id})]}),B("div",{children:[z("span",{className:"text-sm text-gray-600",children:"创建时间"}),z("p",{className:"font-medium",children:new Date(p.attributes.createdAt).toLocaleString("zh-CN")})]}),B("div",{children:[z("span",{className:"text-sm text-gray-600",children:"旅行日期"}),z("p",{className:"font-medium",children:p.attributes.travelDate?new Date(p.attributes.travelDate).toLocaleDateString("zh-CN"):"待确认"})]}),B("div",{children:[z("span",{className:"text-sm text-gray-600",children:"人数"}),B("p",{className:"font-medium",children:[p.attributes.quantity||1," 人"]})]}),B("div",{children:[z("span",{className:"text-sm text-gray-600",children:"单价"}),B("p",{className:"font-medium",children:["¥",p.attributes.price||(null==(s=null==y?void 0:y.attributes)?void 0:s.price)]})]}),B("div",{children:[z("span",{className:"text-sm text-gray-600",children:"总计"}),B("p",{className:"font-medium text-lg text-primary-600",children:["¥",p.attributes.totalAmount||p.attributes.price]})]})]})]}),"paid"===p.attributes.status&&!R&&B("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[B("div",{className:"flex items-center justify-between mb-4",children:[z("h2",{className:"text-xl font-bold text-gray-900",children:"导游匹配"}),z("button",{onClick:()=>k(!0),className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",children:"选择导游"})]}),z("p",{className:"text-gray-600",children:"您的订单已支付成功，现在可以为您的旅行选择专业导游"})]}),R&&B("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[z("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"已选择导游"}),B("div",{className:"flex items-center space-x-4",children:[z("img",{src:(null==(c=null==(o=null==(l=R.attributes.avatar)?void 0:l.data)?void 0:o.attributes)?void 0:c.url)||"https://via.placeholder.com/80x80",alt:R.attributes.name,className:"w-20 h-20 rounded-full object-cover"}),B("div",{children:[z("h3",{className:"text-lg font-semibold text-gray-900",children:R.attributes.name}),B("p",{className:"text-sm text-gray-600",children:["语言: ",(null==(d=R.attributes.languages)?void 0:d.join(", "))||"中文"]}),B("p",{className:"text-sm text-gray-600",children:["经验: ",R.attributes.experience||0,"年"]})]})]})]}),"completed"===p.attributes.status&&z(Nn,{entityType:"tour",entityId:null==y?void 0:y.id,showAddButton:!p.attributes.review,onAddReview:()=>j(!0)})]}),B("div",{className:"space-y-6",children:[B("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[z("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"订单操作"}),B("div",{className:"space-y-3",children:["pending"===p.attributes.status&&B("button",{onClick:()=>h(`/payment/${p.id}`),className:"w-full flex items-center justify-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:[z(Lr,{className:"mr-2"}),"立即支付"]}),"paid"===p.attributes.status&&!R&&B("button",{onClick:()=>k(!0),className:"w-full flex items-center justify-center px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",children:[z(an,{className:"mr-2"}),"选择导游"]}),"completed"===p.attributes.status&&!p.attributes.review&&B("button",{onClick:()=>j(!0),className:"w-full flex items-center justify-center px-4 py-2 bg-yellow-600 text-white rounded-md hover:bg-yellow-700 transition-colors",children:[z(Zr,{className:"mr-2"}),"评价订单"]})]})]}),B("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[z("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"联系信息"}),B("div",{className:"space-y-3",children:[B("div",{children:[z("span",{className:"text-sm text-gray-600",children:"客服电话"}),z("p",{className:"font-medium",children:"400-123-4567"})]}),B("div",{children:[z("span",{className:"text-sm text-gray-600",children:"客服邮箱"}),z("p",{className:"font-medium",children:"support@eictrip.com"})]}),B("div",{children:[z("span",{className:"text-sm text-gray-600",children:"服务时间"}),z("p",{className:"font-medium",children:"24/7 在线服务"})]})]})]})]})]}),E&&z("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:z("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:B("div",{className:"p-6",children:[B("div",{className:"flex items-center justify-between mb-4",children:[z("h2",{className:"text-2xl font-bold text-gray-900",children:"选择导游"}),z("button",{onClick:()=>k(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),z(bn,{orderData:p,onGuideSelect:e=>{T(e),k(!1)}})]})})}),O&&z("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:z("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:B("div",{className:"p-6",children:[B("div",{className:"flex items-center justify-between mb-4",children:[z("h2",{className:"text-2xl font-bold text-gray-900",children:"写评价"}),z("button",{onClick:()=>j(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),z(vn,{entityType:"tour",entityId:null==y?void 0:y.id,onSuccess:()=>{j(!1),window.location.reload()},onCancel:()=>j(!1)})]})})})]})}:{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:B("div",{className:"text-center",children:[z("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"订单不存在"}),z("p",{className:"text-gray-600 mb-6",children:"您要查看的订单不存在或已被删除"}),z("button",{onClick:()=>h("/my-orders"),className:"bg-primary-600 text-white px-6 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:"返回我的订单"})]})})}var Sn="https://js.stripe.com/v3",Cn=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,En=null,kn=function(e){return null!==En||(En=new Promise(function(t,r){if("undefined"!=typeof window&&"undefined"!=typeof document)if(window.Stripe,window.Stripe)t(window.Stripe);else try{var n=function(){for(var e=document.querySelectorAll('script[src^="'.concat(Sn,'"]')),t=0;t<e.length;t++){var r=e[t];if(Cn.test(r.src))return r}return null}();n&&e||n||(n=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",r=document.createElement("script");r.src="".concat(Sn).concat(t);var n=document.head||document.body;if(!n)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return n.appendChild(r),r}(e)),n.addEventListener("load",function(){window.Stripe?t(window.Stripe):r(new Error("Stripe.js not available"))}),n.addEventListener("error",function(){r(new Error("Failed to load Stripe.js"))})}catch(a){return void r(a)}else t(null)})),En},On=Promise.resolve().then(function(){return kn(null)});On.catch(function(e){});var jn={exports:{}};function Rn(){}function Tn(){}Tn.resetWarningCache=Rn,jn.exports=function(){function e(e,t,r,n,a,i){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Tn,resetWarningCache:Rn};return r.PropTypes=r,r}();var An=jn.exports;const Pn=x(An);function zn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Bn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zn(Object(r),!0).forEach(function(t){_n(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zn(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ln(e){return(Ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mn(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function In(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,i=[],s=!0,l=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);s=!0);}catch(o){l=!0,a=o}finally{try{s||null==r.return||r.return()}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Dn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Dn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Un=function(e,t,r){var n=!!r,a=y.useRef(r);y.useEffect(function(){a.current=r},[r]),y.useEffect(function(){if(!n||!e)return function(){};var r=function(){a.current&&a.current.apply(a,arguments)};return e.on(t,r),function(){e.off(t,r)}},[n,t,e,a])},Fn=function(e){var t=y.useRef(e);return y.useEffect(function(){t.current=e},[e]),t.current},qn=function(e){return null!==e&&"object"===Ln(e)},Hn="[object Object]",$n=function e(t,r){if(!qn(t)||!qn(r))return t===r;var n=Array.isArray(t);if(n!==Array.isArray(r))return!1;var a=Object.prototype.toString.call(t)===Hn;if(a!==(Object.prototype.toString.call(r)===Hn))return!1;if(!a&&!n)return t===r;var i=Object.keys(t),s=Object.keys(r);if(i.length!==s.length)return!1;for(var l={},o=0;o<i.length;o+=1)l[i[o]]=!0;for(var c=0;c<s.length;c+=1)l[s[c]]=!0;var d=Object.keys(l);if(d.length!==i.length)return!1;var u=t,m=r;return d.every(function(t){return e(u[t],m[t])})},Vn=function(e,t,r){return qn(e)?Object.keys(e).reduce(function(n,a){var i=!qn(t)||!$n(e[a],t[a]);return r.includes(a)?n:i?Bn(Bn({},n||{}),{},_n({},a,e[a])):n},null):null},Jn="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Wn=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jn;if(null===e||qn(t=e)&&"function"==typeof t.elements&&"function"==typeof t.createToken&&"function"==typeof t.createPaymentMethod&&"function"==typeof t.confirmCardPayment)return e;throw new Error(r)},Kn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jn;if(function(e){return qn(e)&&"function"==typeof e.then}(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(e){return Wn(e,t)})};var r=Wn(e,t);return null===r?{tag:"empty"}:{tag:"sync",stripe:r}},Gn=y.createContext(null);Gn.displayName="ElementsContext";var Yn=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},Xn=function(e){var t=e.stripe,r=e.options,n=e.children,a=y.useMemo(function(){return Kn(t)},[t]),i=In(y.useState(function(){return{stripe:"sync"===a.tag?a.stripe:null,elements:"sync"===a.tag?a.stripe.elements(r):null}}),2),s=i[0],l=i[1];y.useEffect(function(){var e=!0,t=function(e){l(function(t){return t.stripe?t:{stripe:e,elements:e.elements(r)}})};return"async"!==a.tag||s.stripe?"sync"!==a.tag||s.stripe||t(a.stripe):a.stripePromise.then(function(r){r&&e&&t(r)}),function(){e=!1}},[a,s,r]);var o=Fn(t);y.useEffect(function(){},[o,t]);var c=Fn(r);return y.useEffect(function(){if(s.elements){var e=Vn(r,c,["clientSecret","fonts"]);e&&s.elements.update(e)}},[r,c,s.elements]),y.useEffect(function(){var e;(e=s.stripe)&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"3.9.0"}),e.registerAppInfo({name:"react-stripe-js",version:"3.9.0",url:"https://stripe.com/docs/stripe-js/react"}))},[s.stripe]),y.createElement(Gn.Provider,{value:s},n)};Xn.propTypes={stripe:Pn.any,options:Pn.object};var Qn=function(){var e,t;return(e="calls useElements()",t=y.useContext(Gn),Yn(t,e)).elements};Pn.func.isRequired;var Zn=y.createContext(null);Zn.displayName="CheckoutSdkContext",y.createContext(null).displayName="CheckoutContext",Pn.any,Pn.shape({fetchClientSecret:Pn.func.isRequired,elementsOptions:Pn.object}).isRequired;var ea=function(e){var t=y.useContext(Zn),r=y.useContext(Gn);if(t&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t?function(e,t){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CheckoutProvider> provider."));return e}(t,e):Yn(r,e)},ta=["mode"],ra=function(e,t){var r,n="".concat((r=e).charAt(0).toUpperCase()+r.slice(1),"Element"),a=t?function(e){ea("mounts <".concat(n,">"));var t=e.id,r=e.className;return y.createElement("div",{id:t,className:r})}:function(t){var r,a=t.id,i=t.className,s=t.options,l=void 0===s?{}:s,o=t.onBlur,c=t.onFocus,d=t.onReady,u=t.onChange,m=t.onEscape,h=t.onClick,p=t.onLoadError,f=t.onLoaderStart,g=t.onNetworksChange,x=t.onConfirm,b=t.onCancel,v=t.onShippingAddressChange,N=t.onShippingRateChange,w=ea("mounts <".concat(n,">")),S="elements"in w?w.elements:null,C="checkoutSdk"in w?w.checkoutSdk:null,E=In(y.useState(null),2),k=E[0],O=E[1],j=y.useRef(null),R=y.useRef(null);Un(k,"blur",o),Un(k,"focus",c),Un(k,"escape",m),Un(k,"click",h),Un(k,"loaderror",p),Un(k,"loaderstart",f),Un(k,"networkschange",g),Un(k,"confirm",x),Un(k,"cancel",b),Un(k,"shippingaddresschange",v),Un(k,"shippingratechange",N),Un(k,"change",u),d&&(r="expressCheckout"===e?d:function(){d(k)}),Un(k,"ready",r),y.useLayoutEffect(function(){if(null===j.current&&null!==R.current&&(S||C)){var t=null;if(C)switch(e){case"payment":t=C.createPaymentElement(l);break;case"address":if(!("mode"in l))throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");var r=l.mode,a=Mn(l,ta);if("shipping"===r)t=C.createShippingAddressElement(a);else{if("billing"!==r)throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.");t=C.createBillingAddressElement(a)}break;case"expressCheckout":t=C.createExpressCheckoutElement(l);break;case"currencySelector":t=C.createCurrencySelectorElement();break;case"taxId":t=C.createTaxIdElement(l);break;default:throw new Error("Invalid Element type ".concat(n,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else S&&(t=S.create(e,l));j.current=t,O(t),t&&t.mount(R.current)}},[S,C,l]);var T=Fn(l);return y.useEffect(function(){if(j.current){var e=Vn(l,T,["paymentRequest"]);e&&"update"in j.current&&j.current.update(e)}},[l,T]),y.useLayoutEffect(function(){return function(){if(j.current&&"function"==typeof j.current.destroy)try{j.current.destroy(),j.current=null}catch(e){}}},[]),y.createElement("div",{id:a,className:i,ref:R})};return a.propTypes={id:Pn.string,className:Pn.string,onChange:Pn.func,onBlur:Pn.func,onFocus:Pn.func,onReady:Pn.func,onEscape:Pn.func,onClick:Pn.func,onLoadError:Pn.func,onLoaderStart:Pn.func,onNetworksChange:Pn.func,onConfirm:Pn.func,onCancel:Pn.func,onShippingAddressChange:Pn.func,onShippingRateChange:Pn.func,options:Pn.object},a.displayName=n,a.__elementType=e,a},na="undefined"==typeof window;y.createContext(null).displayName="EmbeddedCheckoutProviderContext",ra("auBankAccount",na);var aa=ra("card",na);ra("cardNumber",na),ra("cardExpiry",na),ra("cardCvc",na),ra("fpxBank",na),ra("iban",na),ra("idealBank",na),ra("p24Bank",na),ra("epsBank",na),ra("payment",na),ra("expressCheckout",na),ra("currencySelector",na),ra("paymentRequestButton",na),ra("linkAuthentication",na),ra("address",na),ra("shippingAddress",na),ra("paymentMethodMessaging",na),ra("affirmMessage",na),ra("afterpayClearpayMessage",na),ra("taxId",na);const ia={style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}};function sa({orderData:e,onSuccess:t,onError:r}){const[n,a]=f.useState(!1),[i,s]=f.useState(null),[l,o]=f.useState(""),m=ea("calls useStripe()").stripe,h=Qn();return f.useEffect(()=>{e&&(()=>{u(this,null,function*(){try{const t=yield or.createStripeCheckoutSession(d(c({},e),{currency:"usd",payment_method_types:["card"]}));o(t.client_secret)}catch(t){s("创建支付会话失败"),r(t)}})})()},[e,r]),B("div",{className:"max-w-md mx-auto bg-white rounded-lg shadow-lg p-6",children:[B("div",{className:"text-center mb-6",children:[z("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"支付信息"}),z("p",{className:"text-gray-600",children:"请填写您的支付信息"})]}),z("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:B("div",{className:"flex items-center",children:[z(Yr,{className:"text-blue-500 mr-2"}),z("span",{className:"text-sm text-blue-700",children:"您的支付信息已加密，安全可靠"})]})}),B("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[z("h3",{className:"font-semibold text-gray-900 mb-2",children:"订单摘要"}),B("div",{className:"space-y-2 text-sm",children:[B("div",{className:"flex justify-between",children:[z("span",{className:"text-gray-600",children:"产品名称"}),z("span",{className:"font-medium",children:e.productName})]}),B("div",{className:"flex justify-between",children:[z("span",{className:"text-gray-600",children:"数量"}),z("span",{className:"font-medium",children:e.quantity})]}),B("div",{className:"flex justify-between",children:[z("span",{className:"text-gray-600",children:"单价"}),B("span",{className:"font-medium",children:["¥",e.unitPrice]})]}),z("hr",{className:"my-2"}),B("div",{className:"flex justify-between text-lg font-bold",children:[z("span",{children:"总计"}),B("span",{className:"text-primary-600",children:["¥",e.totalAmount]})]})]})]}),B("form",{onSubmit:n=>u(this,null,function*(){if(n.preventDefault(),!m||!h||!l)return;a(!0),s(null);const{error:i,paymentIntent:o}=yield m.confirmCardPayment(l,{payment_method:{card:h.getElement(aa),billing_details:{name:e.customerName,email:e.customerEmail}}});if(i)s(i.message||"支付失败"),r(i);else if("succeeded"===o.status)try{yield or.handlePaymentSuccess(e.orderId),t(o)}catch(c){s("订单更新失败，但支付已成功"),r(c)}a(!1)}),className:"space-y-6",children:[i&&z("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md",children:i}),B("div",{children:[B("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[z(Lr,{className:"inline mr-2"}),"信用卡信息"]}),z("div",{className:"border border-gray-300 rounded-md p-3",children:z(aa,{options:ia})})]}),B("div",{className:"grid grid-cols-2 gap-4",children:[B("div",{children:[z("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"持卡人姓名"}),z("input",{type:"text",defaultValue:e.customerName,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"请输入持卡人姓名"})]}),B("div",{children:[z("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"邮箱地址"}),z("input",{type:"email",defaultValue:e.customerEmail,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"请输入邮箱地址"})]})]}),z("button",{type:"submit",disabled:!m||n,className:"w-full bg-primary-600 text-white py-3 px-4 rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:B(P,n?{children:[z("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"处理中..."]}:{children:[z($r,{className:"mr-2"}),"立即支付 ¥",e.totalAmount]})}),B("div",{className:"text-xs text-gray-500 text-center",children:[z("p",{children:'点击"立即支付"即表示您同意我们的服务条款'}),z("p",{children:"支付完成后，您将收到确认邮件"})]})]})]})}const la=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=Date.now();return On.then(function(e){return function(e,t,r){if(null===e)return null;var n=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"1.54.2",startTime:t})}(n,r),n}(e,t,n)})}({}.VITE_STRIPE_PUBLIC_KEY||"pk_test_your_stripe_public_key_here");function oa(){var e,t,r,n,a,i;const{orderId:s}=S(),l=N(),{user:o}=br(),[c,d]=f.useState(null),[m,h]=f.useState(null),[p,g]=f.useState(!0),[y,x]=f.useState(null),[b,v]=f.useState(null);if(f.useEffect(()=>{s&&(()=>{u(this,null,function*(){var e,t;try{g(!0);const r=(yield lr.getOrderById(s)).data,n=(yield ir.getTourById(null==(t=null==(e=r.attributes.tour)?void 0:e.data)?void 0:t.id)).data;d(r),h(n)}catch(r){x("获取订单信息失败")}finally{g(!1)}})})()},[s]),p)return z("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:z(wr,{size:"lg",text:"正在加载订单信息..."})});if(y)return z("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:B("div",{className:"text-center",children:[z(rn,{className:"text-red-500 text-6xl mx-auto mb-4"}),z("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"加载失败"}),z("p",{className:"text-gray-600 mb-6",children:y}),z("button",{onClick:()=>l(-1),className:"bg-primary-600 text-white px-6 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:"返回上一页"})]})});if(!c||!m)return z("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:B("div",{className:"text-center",children:[z(rn,{className:"text-red-500 text-6xl mx-auto mb-4"}),z("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"订单不存在"}),z("p",{className:"text-gray-600 mb-6",children:"您要支付的订单不存在或已被删除"}),z("button",{onClick:()=>l("/"),className:"bg-primary-600 text-white px-6 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:"返回首页"})]})});if("success"===b)return z("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:B("div",{className:"text-center",children:[z(Pr,{className:"text-green-500 text-6xl mx-auto mb-4"}),z("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"支付成功！"}),z("p",{className:"text-gray-600 mb-6",children:"您的订单已支付成功，正在跳转到订单详情页..."}),z("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"})]})});if("error"===b)return z("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:B("div",{className:"text-center",children:[z(rn,{className:"text-red-500 text-6xl mx-auto mb-4"}),z("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"支付失败"}),z("p",{className:"text-gray-600 mb-6",children:"支付过程中出现错误，请重试或联系客服"}),z("button",{onClick:()=>v(null),className:"bg-primary-600 text-white px-6 py-2 rounded-lg hover:bg-primary-700 transition-colors mr-4",children:"重新支付"}),z("button",{onClick:()=>l(`/orders/${s}`),className:"bg-gray-600 text-white px-6 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:"查看订单"})]})});const w={orderId:c.id,productName:m.attributes.title_zh||m.attributes.title_en,quantity:c.attributes.quantity||1,unitPrice:c.attributes.price||m.attributes.price,totalAmount:c.attributes.totalAmount||c.attributes.price,customerName:(null==o?void 0:o.firstName)&&(null==o?void 0:o.lastName)?`${o.firstName} ${o.lastName}`:null==o?void 0:o.username,customerEmail:null==o?void 0:o.email};return z("div",{className:"min-h-screen bg-gray-50 py-12",children:B("div",{className:"container mx-auto px-4",children:[z("div",{className:"mb-8",children:B("button",{onClick:()=>l(-1),className:"flex items-center text-gray-600 hover:text-primary-600 transition-colors",children:[z(jr,{className:"mr-2"}),"返回"]})}),B("div",{className:"text-center mb-8",children:[z("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"订单支付"}),z("p",{className:"text-gray-600",children:"请完成支付以确认您的订单"})]}),z("div",{className:"max-w-4xl mx-auto",children:B("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[B("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[z("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"订单详情"}),z("div",{className:"border-b border-gray-200 pb-4 mb-4",children:B("div",{className:"flex items-center space-x-4",children:[z("img",{src:(null==(r=null==(t=null==(e=m.attributes.image)?void 0:e.data)?void 0:t.attributes)?void 0:r.url)||"https://via.placeholder.com/80x60",alt:m.attributes.title_zh||m.attributes.title_en,className:"w-20 h-15 object-cover rounded-lg"}),B("div",{children:[z("h3",{className:"font-semibold text-gray-900",children:m.attributes.title_zh||m.attributes.title_en}),z("p",{className:"text-sm text-gray-600",children:(null==(i=null==(a=null==(n=m.attributes.destination)?void 0:n.data)?void 0:a.attributes)?void 0:i.name)||"目的地"})]})]})}),B("div",{className:"space-y-3",children:[B("div",{className:"flex justify-between",children:[z("span",{className:"text-gray-600",children:"订单号"}),z("span",{className:"font-medium",children:c.id})]}),B("div",{className:"flex justify-between",children:[z("span",{className:"text-gray-600",children:"预订日期"}),z("span",{className:"font-medium",children:new Date(c.attributes.travelDate||c.attributes.createdAt).toLocaleDateString("zh-CN")})]}),B("div",{className:"flex justify-between",children:[z("span",{className:"text-gray-600",children:"人数"}),B("span",{className:"font-medium",children:[c.attributes.quantity||1," 人"]})]}),B("div",{className:"flex justify-between",children:[z("span",{className:"text-gray-600",children:"单价"}),B("span",{className:"font-medium",children:["¥",c.attributes.price||m.attributes.price]})]}),z("hr",{className:"my-3"}),B("div",{className:"flex justify-between text-lg font-bold",children:[z("span",{children:"总计"}),B("span",{className:"text-primary-600",children:["¥",c.attributes.totalAmount||c.attributes.price]})]})]})]}),z("div",{children:z(Xn,{stripe:la,children:z(sa,{orderData:w,onSuccess:e=>{v("success"),setTimeout(()=>{l(`/orders/${s}`)},3e3)},onError:e=>{v("error")}})})})]})})]})})}function ca(){var e,t;const[r,n]=f.useState(!1),[a,i]=f.useState(!1),[s,l]=f.useState(!1),o=f.useRef(null),c=f.useRef(null),{user:d,isAuthenticated:u,logout:m}=br(),{unreadCount:h,notifications:p,markAsRead:g,markAllAsRead:y,deleteNotification:x,getNotificationIcon:b,getNotificationColor:v}=(()=>{const e=f.useContext(vr);if(!e)throw new Error("useNotifications must be used within a NotificationProvider");return e})();f.useEffect(()=>{const e=e=>{o.current&&!o.current.contains(e.target)&&i(!1),c.current&&!c.current.contains(e.target)&&l(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const N=()=>{m(),i(!1)};return z("header",{className:"bg-white shadow-lg sticky top-0 z-50",children:B("div",{className:"container mx-auto px-4",children:[B("div",{className:"flex items-center justify-between h-16",children:[B(w,{to:"/",className:"flex items-center space-x-2",children:[z("div",{className:"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center",children:z("span",{className:"text-white font-bold text-lg",children:"E"})}),z("span",{className:"text-xl font-bold text-gray-900",children:"EICTrip"})]}),B("nav",{className:"hidden md:flex items-center space-x-8",children:[z(w,{to:"/",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"首页"}),z(w,{to:"/routes",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"旅游路线"}),z(w,{to:"/about",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"关于我们"}),z(w,{to:"/contact",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"联系我们"})]}),B("div",{className:"flex items-center space-x-4",children:[B(P,u?{children:[B("div",{className:"relative",ref:c,children:[B("button",{onClick:()=>l(!s),className:"relative p-2 text-gray-600 hover:text-primary-600 transition-colors",children:[z(Tr,{className:"w-5 h-5"}),h>0&&z("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:h>99?"99+":h})]}),s&&B("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 max-h-96 overflow-y-auto",children:[z("div",{className:"p-4 border-b border-gray-200",children:B("div",{className:"flex items-center justify-between",children:[z("h3",{className:"text-lg font-semibold text-gray-900",children:"通知"}),h>0&&z("button",{onClick:()=>{y(),l(!1)},className:"text-sm text-primary-600 hover:text-primary-700",children:"全部标记为已读"})]})}),z("div",{className:"p-2",children:0===p.length?B("div",{className:"text-center py-8 text-gray-500",children:[z(Tr,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),z("p",{children:"暂无通知"})]}):z("div",{className:"space-y-2",children:p.slice(0,10).map(e=>z("div",{onClick:()=>(e=>{e.attributes.isRead||g(e.id),l(!1)})(e),className:"p-3 rounded-lg cursor-pointer transition-colors "+(e.attributes.isRead?"bg-gray-50 hover:bg-gray-100":"bg-blue-50 hover:bg-blue-100"),children:B("div",{className:"flex items-start space-x-3",children:[z("span",{className:"text-lg",children:b(e.attributes.type)}),B("div",{className:"flex-1 min-w-0",children:[z("p",{className:"text-sm font-medium "+(e.attributes.isRead?"text-gray-700":"text-gray-900"),children:e.attributes.title}),z("p",{className:"text-xs text-gray-500 mt-1",children:e.attributes.content}),z("p",{className:"text-xs text-gray-400 mt-1",children:new Date(e.attributes.createdAt).toLocaleString("zh-CN")})]}),!e.attributes.isRead&&z("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]})},e.id))})})]})]}),B("div",{className:"relative",ref:o,children:[B("button",{onClick:()=>i(!a),className:"flex items-center space-x-2 text-gray-700 hover:text-primary-600 transition-colors",children:[z("div",{className:"w-8 h-8 bg-primary-600 rounded-full flex items-center justify-center",children:z("span",{className:"text-white text-sm font-medium",children:(null==(e=null==d?void 0:d.firstName)?void 0:e[0])||(null==(t=null==d?void 0:d.username)?void 0:t[0])||"U"})}),z("span",{className:"hidden sm:block",children:(null==d?void 0:d.firstName)&&(null==d?void 0:d.lastName)?`${d.firstName} ${d.lastName}`:(null==d?void 0:d.username)||"用户"})]}),a&&z("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200",children:B("div",{className:"py-2",children:[B(w,{to:"/profile",className:"flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100 transition-colors",onClick:()=>i(!1),children:[z(Br,{className:"w-4 h-4 mr-3"}),"个人资料"]}),z(w,{to:"/my-orders",className:"flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100 transition-colors",onClick:()=>i(!1),children:"📋 我的订单"}),B("button",{onClick:N,className:"flex items-center w-full px-4 py-2 text-gray-700 hover:bg-gray-100 transition-colors",children:[z(Xr,{className:"w-4 h-4 mr-3"}),"退出登录"]})]})})]})]}:{children:[z(w,{to:"/login",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"登录"}),z(w,{to:"/register",className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:"注册"})]}),z("button",{onClick:()=>n(!r),className:"md:hidden p-2 text-gray-600 hover:text-primary-600 transition-colors",children:z(r?nn:Rr,{className:"w-5 h-5"})})]})]}),r&&z("div",{className:"md:hidden py-4 border-t border-gray-200",children:B("nav",{className:"flex flex-col space-y-4",children:[z(w,{to:"/",className:"text-gray-700 hover:text-primary-600 transition-colors",onClick:()=>n(!1),children:"首页"}),z(w,{to:"/routes",className:"text-gray-700 hover:text-primary-600 transition-colors",onClick:()=>n(!1),children:"旅游路线"}),z(w,{to:"/about",className:"text-gray-700 hover:text-primary-600 transition-colors",onClick:()=>n(!1),children:"关于我们"}),z(w,{to:"/contact",className:"text-gray-700 hover:text-primary-600 transition-colors",onClick:()=>n(!1),children:"联系我们"}),u&&B(P,{children:[z(w,{to:"/my-orders",className:"text-gray-700 hover:text-primary-600 transition-colors",onClick:()=>n(!1),children:"我的订单"}),z("button",{onClick:N,className:"text-left text-gray-700 hover:text-primary-600 transition-colors",children:"退出登录"})]})]})})]})})}function da(){return B("footer",{className:"bg-gray-900 text-white",children:[z("div",{className:"container mx-auto px-4 py-16",children:B("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[B("div",{className:"lg:col-span-1",children:[z("h3",{className:"text-2xl font-bold text-primary-400 mb-4",children:"EICTrip"}),z("p",{className:"text-gray-300 mb-6",children:"The Brilliant reasons EICTrip be your one-stop-shop for unforgettable travel experiences!"}),B("div",{className:"flex space-x-4",children:[z("a",{href:"#",className:"bg-primary-600 hover:bg-primary-700 p-2 rounded-full transition-colors",children:z(Cr,{})}),z("a",{href:"#",className:"bg-primary-600 hover:bg-primary-700 p-2 rounded-full transition-colors",children:z(Er,{})}),z("a",{href:"#",className:"bg-primary-600 hover:bg-primary-700 p-2 rounded-full transition-colors",children:z(Or,{})}),z("a",{href:"#",className:"bg-primary-600 hover:bg-primary-700 p-2 rounded-full transition-colors",children:z(kr,{})})]})]}),B("div",{children:[z("h4",{className:"text-lg font-semibold mb-4",children:"Services"}),B("ul",{className:"space-y-2 text-gray-300",children:[z("li",{children:z(w,{to:"/services/budget-tours",className:"hover:text-primary-400 transition-colors",children:"Budget Tours"})}),z("li",{children:z(w,{to:"/services/expert-insight",className:"hover:text-primary-400 transition-colors",children:"Expert Insight"})}),z("li",{children:z(w,{to:"/services/independent",className:"hover:text-primary-400 transition-colors",children:"Independent"})}),z("li",{children:z(w,{to:"/services/luxury-tours",className:"hover:text-primary-400 transition-colors",children:"Luxury Tours"})}),z("li",{children:z(w,{to:"/services/safety-tips",className:"hover:text-primary-400 transition-colors",children:"Safety Tips"})}),z("li",{children:z(w,{to:"/services/tips-tricks",className:"hover:text-primary-400 transition-colors",children:"Tips n Tricks"})})]})]}),B("div",{children:[z("h4",{className:"text-lg font-semibold mb-4",children:"Adventures"}),B("ul",{className:"space-y-2 text-gray-300",children:[z("li",{children:z(w,{to:"/adventures/beach-activity",className:"hover:text-primary-400 transition-colors",children:"Beach Activity"})}),z("li",{children:z(w,{to:"/adventures/bungee-jump",className:"hover:text-primary-400 transition-colors",children:"Bungee Jump"})}),z("li",{children:z(w,{to:"/adventures/city-tour",className:"hover:text-primary-400 transition-colors",children:"City Tour"})}),z("li",{children:z(w,{to:"/adventures/hiking-trips",className:"hover:text-primary-400 transition-colors",children:"Hiking Trips"})}),z("li",{children:z(w,{to:"/adventures/jungle-safari",className:"hover:text-primary-400 transition-colors",children:"Jungle Safari"})}),z("li",{children:z(w,{to:"/adventures/night-city-walk",className:"hover:text-primary-400 transition-colors",children:"Night City Walk"})})]})]}),B("div",{children:[z("h4",{className:"text-lg font-semibold mb-4",children:"Get In Touch"}),B("div",{className:"space-y-3 text-gray-300",children:[B("div",{className:"flex items-center",children:[z(Vr,{className:"mr-3 text-primary-400"}),z("span",{children:"Nepal, USA, India"})]}),B("div",{className:"flex items-center",children:[z(_r,{className:"mr-3 text-primary-400"}),z("span",{children:"info@eictrip.com"})]}),B("div",{className:"flex items-center",children:[z(Wr,{className:"mr-3 text-primary-400"}),z("span",{children:"+1 (555) 123-4567"})]})]})]})]})}),z("div",{className:"bg-gray-800 py-12",children:z("div",{className:"container mx-auto px-4",children:B("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[B("div",{className:"text-center md:text-left",children:[B("div",{className:"flex items-center justify-center md:justify-start mb-4",children:[z(Fr,{className:"text-3xl text-primary-400 mr-3"}),z("h3",{className:"text-xl font-semibold",children:"For Sales"})]}),z("p",{className:"text-gray-300 mb-2",children:"The Brilliant reasons EICTrip be your one-stop-shop!"}),B("div",{className:"text-primary-400",children:[z("div",{children:"sales@eictrip.com"}),z("div",{children:"+1 (555) 123-4567"})]})]}),B("div",{className:"text-center md:text-left",children:[B("div",{className:"flex items-center justify-center md:justify-start mb-4",children:[z(Fr,{className:"text-3xl text-primary-400 mr-3"}),z("h3",{className:"text-xl font-semibold",children:"Help & Support"})]}),z("p",{className:"text-gray-300 mb-2",children:"We are available 24/7 to answer our clients queries."}),B("div",{className:"text-primary-400",children:[z("div",{children:"support@eictrip.com"}),z("div",{children:"+1 (555) 123-4567"})]})]})]})})}),z("div",{className:"bg-black py-6",children:z("div",{className:"container mx-auto px-4",children:B("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[z("div",{className:"text-gray-400 text-sm mb-4 md:mb-0",children:"© 2024 EICTrip. All rights reserved."}),B("div",{className:"flex items-center space-x-6 text-sm",children:[z(w,{to:"/privacy",className:"text-gray-400 hover:text-white transition-colors",children:"Privacy Policy"}),B("div",{className:"flex items-center space-x-3",children:[z("span",{className:"text-gray-400",children:"Payments"}),B("div",{className:"flex space-x-2",children:[z("div",{className:"w-8 h-5 bg-gray-600 rounded"}),z("div",{className:"w-8 h-5 bg-gray-600 rounded"}),z("div",{className:"w-8 h-5 bg-gray-600 rounded"})]})]})]})]})})})]})}function ua(){return B("div",{className:"app",children:[z(ca,{}),z("main",{children:z(C,{})}),z(da,{})]})}function ma(){return z(M,{children:z(xr,{children:z(Nr,{children:z(E,{children:z(k,{children:B(O,{path:"/",element:z(ua,{}),children:[z(O,{index:!0,element:z(un,{})}),z(O,{path:"about",element:z(mn,{})}),z(O,{path:"contact",element:z(hn,{})}),z(O,{path:"login",element:z(pn,{})}),z(O,{path:"register",element:z(fn,{})}),z(O,{path:"routes",element:z(gn,{})}),z(O,{path:"routes/:id",element:z(yn,{})}),z(O,{path:"my-orders",element:z(Sr,{children:z(xn,{})})}),z(O,{path:"orders/:id",element:z(Sr,{children:z(wn,{})})}),z(O,{path:"payment/:orderId",element:z(Sr,{children:z(oa,{})})})]})})})})})})}L.createRoot(document.getElementById("root")).render(z(y.StrictMode,{children:z(ma,{})}))}},function(){return T||(0,R[n(R)[0]])((T={exports:{}}).exports,T),T.exports});export default A();
